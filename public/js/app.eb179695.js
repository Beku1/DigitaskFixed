(function(t){function e(e){for(var a,i,o=e[0],c=e[1],l=e[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,o=1;o<s.length;o++){var c=s[o];0!==r[c]&&(a=!1)}a&&(n.splice(e--,1),t=i(i.s=s[0]))}return t}var a={},r={app:0},n=[];function i(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=a,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"31a2":function(t,e,s){t.exports=s.p+"img/background-2.0b8c3030.jpg"},"34a1":function(t,e,s){t.exports=s.p+"img/background-4.d3c2ef82.jpg"},"36a8":function(t,e,s){t.exports=s.p+"img/background-1.d269db87.jpg"},"505f":function(t,e,s){t.exports=s.p+"img/background-colors.864f4df1.jpg"},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",[s("div",{class:t.isDefault,style:t.getImgOrColor}),s("div",{attrs:{id:"app"}},[t.header?s("app-header"):t._e(),s("router-view")],1)])},n=[],i=s("1da1"),o=(s("caad"),s("2532"),s("96cf"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("section",{staticClass:"main-header-container"},[s("div",{staticClass:"main-header-left"},[t._m(0),s("div",{staticClass:"logo main-header-tabs"},[s("router-link",{attrs:{to:"/workspace"}},[t._v("DigiTask")])],1),s("div",{staticClass:"main-header-tabs recent",attrs:{title:"Recent"},on:{click:function(e){return t.setType("recent")}}},[t._m(1)]),s("div",{staticClass:"main-header-tabs starred",attrs:{title:"Starred"},on:{click:function(e){return t.setType("starred")}}},[t._m(2)]),s("div",{staticClass:"more-btn"},[s("button",{on:{click:t.moreBtn}},[t._v("More")]),t.moreMenu?s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.moreBtn,expression:"moreBtn"}],staticClass:"more-menu"},[s("div",{staticClass:"more-menu-item",on:{click:function(e){return t.setType("recent")}}},[s("div",{staticClass:"main-header-tabs recent",attrs:{title:"Recent"}}),t._m(3)]),s("div",{staticClass:"more-menu-item",on:{click:function(e){return t.setType("starred")}}},[s("div",{staticClass:"main-header-tabs starred",attrs:{title:"Starred"}}),t._m(4)])]):t._e()]),s("div",{staticClass:"main-header-tabs create",attrs:{title:"Create board"},on:{click:function(e){return t.setType("create")}}})]),s("div",{staticClass:"main-header-right"},[s("div",{staticClass:"input-container"},[s("filter-app-header",{staticClass:"main-header-search",attrs:{boards:t.getBoards,title:"Search cards"}}),t._m(5)],1),t._m(6),t.getUser?s("div",{staticClass:"main-header-profile user-tag-name in-header",attrs:{title:t.getUser.fullname},on:{click:function(e){return t.setType("profile")}}},[t.getUser.imgUrl?s("img",{staticClass:"image-settings",attrs:{src:t.getUser.imgUrl}}):s("span",[t._v(t._s(t.initials))])]):t._e()])]),t.type?s("header-dynamic",{staticClass:"abs",attrs:{type:t.type,getUser:t.getUser,getBoards:t.getBoards},on:{createBoard:t.createBoard,closeModal:t.closeModal,updateUser:t.updateUser,loadBoard:t.loadBoard}}):t._e()],1)}),c=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"trello-logo"},[s("i",{staticClass:"fab fa-trello"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"arrow-down"},[s("i",{staticClass:"fas fa-chevron-down"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"arrow-down"},[s("i",{staticClass:"fas fa-chevron-down"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"arrow-down"},[s("i",{staticClass:"fas fa-chevron-down"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"arrow-down"},[s("i",{staticClass:"fas fa-chevron-down"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"search"},[s("i",{staticClass:"fas fa-search"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main-header-bell"},[s("i",{staticClass:"far fa-bell"})])}],l=(s("ac1f"),s("1276"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s(t.renderCmp,{tag:"component",attrs:{getCurrBoard:t.getCurrBoard,getUser:t.getUser,getBoards:t.getBoards},on:{closeModal:t.closeModal,updateBoard:t.updateBoard,updateUser:t.updateUser,loadBoard:t.loadBoard,createBoard:t.createBoard}})],1)}),u=[],d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.getUser?s("section",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeModal,expression:"closeModal"}],staticClass:"dynamic-profile card-layout nav-modal"},[s("div",{staticClass:"header-layout"},[s("header",[t._v("Account")]),s("button",{on:{click:t.closeModal}},[s("span",{staticClass:"icon-sm close-icon icon-settings"})])]),s("div",{staticClass:"user-info"},[s("div",{staticClass:"user-tag-name in-menu"},[t.getUser.imgUrl?s("img",{staticClass:"image-settings",attrs:{src:t.getUser.imgUrl}}):s("span",[t._v(t._s(t.initials))])]),s("div",{staticClass:"user-info-details"},[s("div",[t._v(t._s(t.getUser.fullname))]),s("span",[t._v(t._s(t.getUser.username))])])]),s("div",{staticClass:"card-line"}),s("button",{staticClass:"user-info-logout-btn",on:{click:t.doLogout}},[t._v("Log out")])]):t._e()},p=[],h=s("c28b"),m=s.n(h),g={name:"profile",data:function(){return{}},methods:{closeModal:function(){this.$emit("closeModal")},doLogout:function(){var t=this;this.$store.dispatch({type:"logout"}),this.$nextTick((function(){t.$router.push("/")}))}},computed:{getUser:function(){return this.$store.getters.currUser},initials:function(){var t=this.getUser.fullname.split(" ");return t=t.length>1?t.shift().charAt(0)+t.pop().charAt(0):this.getUser.fullname.substring(0,2),t.toUpperCase()}},directives:{clickOutside:m.a.directive}},v=g,f=s("2877"),k=Object(f["a"])(v,d,p,!1,null,null,null),b=k.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeModal,expression:"closeModal"}],staticClass:"dynamic-recent card-layout nav-modal"},[s("div",{staticClass:"header-layout"},[s("header",[t._v("Recent boards")]),s("button",{on:{click:t.closeModal}},[s("span",{staticClass:"icon-sm close-icon"})])]),t._l(t.getRecentBoards,(function(e){return s("div",{key:e._id},[s("div",{staticClass:"workspace-content",on:{click:function(s){return t.goToBoard(e._id)}}},[s("div",{staticClass:"recent-board-background",style:t.getBackground(e)}),s("div",{staticClass:"board-title"},[t._v(" "+t._s(e.title)+" ")])])])}))],2)},y=[],w=(s("d3b7"),s("159b"),{name:"recent",data:function(){return{recentBoards:null}},methods:{closeModal:function(){this.$emit("closeModal")},goToBoard:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:e.$emit("loadBoard",t),e.$nextTick((function(){e.$router.push("/b/".concat(t))}));case 2:case"end":return s.stop()}}),s)})))()},getBackground:function(t){return t.style.backgroundColor?{"background-color":t.style.backgroundColor}:{"background-image":"url(".concat(s("bb6e")("./"+t.style.backgroundUrl),")")}}},computed:{getUser:function(){return this.$store.getters.currUser},getBoards:function(){return this.$store.getters.boards},getRecentBoards:function(){var t=this,e=[];return this.getUser.recentBoards.forEach((function(s){t.getBoards.forEach((function(t){t._id===s&&e.push(t)}))})),e}},directives:{clickOutside:m.a.directive}}),_=w,T=Object(f["a"])(_,C,y,!1,null,null,null),x=T.exports,B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeModal,expression:"closeModal"}],staticClass:"dynamic-starred card-layout nav-modal"},[s("div",{staticClass:"header-layout"},[s("header",[t._v("Starred boards")]),s("button",{on:{click:t.closeModal}},[s("span",{staticClass:"icon-sm close-icon"})])]),t.getStarredBoards.length?t._e():s("div",{staticClass:"placeholder"},[t._v(" Star important boards to access them quickly and easily. ")]),t._l(t.getStarredBoards,(function(e){return s("div",{key:e._id},[s("div",{staticClass:"workspace-content",on:{click:function(s){return t.goToBoard(e._id)}}},[s("div",{staticClass:"starred-board-background",style:t.getBackground(e)}),s("div",{staticClass:"board-title"},[t._v(" "+t._s(e.title)+" ")]),s("div",{staticClass:"board-box star",on:{click:function(s){return s.stopPropagation(),t.starredBoard(e._id)}}},[t._m(0,!0)])])])}))],2)},$=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[s("i",{staticClass:"fas fa-star"})])}],O=(s("e9c4"),s("a434"),s("7db0"),{name:"starred",props:["getBoards","getCurrBoard"],data:function(){return{starredBoards:null,user:null}},created:function(){this.user=JSON.parse(JSON.stringify(this.getCurrUser))},methods:{closeModal:function(){this.$emit("closeModal")},goToBoard:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:e.$emit("loadBoard",t),e.$nextTick((function(){e.$router.push("/b/".concat(t))}));case 2:case"end":return s.stop()}}),s)})))()},starredBoard:function(t){var e=this.user.starred.indexOf(t);this.user.starred.splice(e,1),this.$emit("updateUser",this.user)},getBackground:function(t){return t.style.backgroundColor?{"background-color":t.style.backgroundColor}:{"background-image":"url(".concat(s("bb6e")("./"+t.style.backgroundUrl),")")}}},computed:{getStarredBoards:function(){var t=this,e=[];return this.getBoards.forEach((function(s){var a=t.getCurrUser.starred.find((function(t){return t===s._id}));a&&e.push(s)})),e},getCurrUser:function(){return this.$store.getters.currUser}},directives:{clickOutside:m.a.directive}}),E=O,D=Object(f["a"])(E,B,$,!1,null,null,null),M=D.exports,U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"dynamic-workspace card-layout nav-modal"},[s("div",{staticClass:"header-layout"},[s("header",[t._v("Workspaces")]),s("button",{on:{click:t.closeModal}},[s("span",{staticClass:"icon-lg close-icon"})])]),t._m(0),t._m(1),s("div",{staticClass:"card-line"}),t._m(2),t._m(3),t._m(4),t._m(5)])},S=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("p",{staticClass:"subtitle"},[t._v("Current Workspace")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"workspace-content"},[s("div",{staticClass:"name-tag"},[t._v("I")]),s("p",[t._v("Ilya Shershniov's workspace")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("p",{staticClass:"subtitle"},[t._v("Your Workspaces")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"workspace-content"},[s("div",{staticClass:"name-tag"},[t._v("D")]),s("p",[t._v("Digitask workspace")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("p",{staticClass:"subtitle"},[t._v("Guest Workspaces")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"workspace-content"},[s("div",{staticClass:"name-tag"},[t._v("I")]),s("p",[t._v("Ilya Shershniov's workspace")])])}],N={name:"workSpace",data:function(){return{boards:null}},methods:{closeModal:function(){this.$emit("closeModal")}}},R=N,I=Object(f["a"])(R,U,S,!1,null,null,null),L=I.exports,j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeModal,expression:"closeModal"}],staticClass:"dynamic-invite card-layout nav-modal"},[s("div",{staticClass:"header-layout"},[s("header",[t._v("Invites")]),s("button",{staticClass:"close",on:{click:t.closeModal}},[s("span",{staticClass:"menu-header-close-button"})])]),t._m(0),s("div",{staticClass:"card-line"}),s("div",{staticClass:"users-invite-container"},t._l(t.filterUsers,(function(e,a){return s("div",{key:a},[s("div",{staticClass:"invite-content",on:{click:function(s){return t.addUser(e)}}},[s("span",{staticClass:"user-tag-name in-header"},[s("img",{staticClass:"image-settings",attrs:{src:e.imgUrl}})]),s("p",{staticClass:"name-tag"},[t._v(t._s(e.username))]),s("span",{staticClass:"icon-settings icon-sm v-sign  on-invite"})])])})),0)])},A=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("input",{attrs:{type:"text",placeholder:"Search Members "}})])}],G=(s("c740"),s("4de4"),{name:"recent",props:["board"],data:function(){return{users:[],boardToUpdate:{},chosenUsers:[]}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"loadUsers"});case 2:t.users=t.$store.getters.users,t.boardToUpdate=JSON.parse(JSON.stringify(t.getCurrBoard));case 4:case"end":return e.stop()}}),e)})))()},methods:{addUser:function(t){var e={_id:t._id,fullname:t.fullname,imgUrl:t.imgUrl},s=this.boardToUpdate.members.findIndex((function(t){return t._id===e._id}));s>-1?this.boardToUpdate.members.splice(s,1):this.boardToUpdate.members.push(e),this.$emit("updateBoard",JSON.parse(JSON.stringify(this.boardToUpdate)))},closeModal:function(){this.$emit("closeModal")}},computed:{getCurrBoard:function(){return this.$store.getters.getCurrBoard},getUsers:function(){return this.$store.getters.users},filterUsers:function(){var t=this;if(!this.filterBy)return this.getUsers;var e=this.getUsers.filter((function(e){return e.fullname.toLowerCase().includes(t.filterBy.toLowerCase())}));return e},initials:function(){var t=this.getUsers.forEach((function(t){return t.fullname.split(" ")}));return t=t.length>1?t.shift().charAt(0)+t.pop().charAt(0):this.getUsers.forEach((function(t){return t.fullname.substring(0,2)})),t.toUpperCase()}},directives:{clickOutside:m.a.directive}}),P=G,J=Object(f["a"])(P,j,A,!1,null,null,null),F=J.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeModal,expression:"closeModal"}],staticClass:"create-board-menu"},[a("div",{staticClass:"create-board-card"},[a("button",{staticClass:"close",on:{click:t.closeModal}},[a("span",{staticClass:"menu-header-close-button"})]),t._m(0)]),a("div",{staticClass:"image-container"},[a("div",{staticClass:"image-content",style:t.getBackground},[a("img",{attrs:{src:"https://a.trellocdn.com/prgb/dist/images/board-preview-skeleton.14cda5dc635d1f13bc48.svg"}})])]),a("span",{staticClass:"board-subtitle"},[t._v("Background")]),a("ul",{staticClass:"bg-menu-selector"},[t._l(t.backgrounds,(function(e,s){return a("div",{key:s,staticClass:"bg-menu-color"},[a("button",{staticClass:"color-btn",style:"background:"+e,on:{click:function(s){return t.setBackground(e)}}})])})),a("div",{staticClass:"board-background-selection-photos"},t._l(t.photos,(function(e,r){return a("span",{key:r},[a("span",{staticClass:" creating-board-img-preview",on:{click:function(s){return t.setBackground(e,"photo")}}},[a("img",{attrs:{src:s("bb6e")("./"+e),title:e.by}})])])})),0)],2),t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.board.title,expression:"board.title"}],attrs:{type:"text"},domProps:{value:t.board.title},on:{input:function(e){e.target.composing||t.$set(t.board,"title",e.target.value)}}}),a("button",{staticClass:"create-btn",on:{click:t.createBoard}},[t._v("Create board")])])},W=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header-layout"},[s("header",[t._v("Create board")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"board-subtitle"},[t._v("Board title"),s("span",{staticClass:"asterisk"},[t._v("*")])])}],z=(s("466d"),{name:"boardCreate",data:function(){return{board:{title:"",background:"",imgUrl:""},backgrounds:["rgb(0, 121, 191)","rgb(210, 144, 52)","rgb(81, 152, 57)","rgb(176, 70, 50)"],photos:["background-1.jpg","background-2.jpg","background-3.jpg","background-4.jpg"]}},methods:{closeModal:function(){this.$emit("closeModal"),this.$emit("closeCreateMenu")},setBackground:function(t,e){"photo"===e?(this.board.imgUrl=t,this.board.background=""):(this.board.background=t,this.board.imgUrl="")},createBoard:function(){this.board.title.match(/^\s*$/)||(this.$emit("createBoard",this.board),this.board={title:"",background:"",imgUrl:""},this.closeModal())}},computed:{getBackground:function(){if(this.board.imgUrl||this.board.background)return this.board.background?{"background-color":this.board.background}:{"background-image":"url(".concat(s("bb6e")("./"+this.board.imgUrl),")")}}},directives:{clickOutside:m.a.directive}}),Y=z,K=Object(f["a"])(Y,H,W,!1,null,null,null),q=K.exports,V={name:"headerDynamic",props:["type","getCurrBoard","getUser","getBoards"],data:function(){return{}},computed:{renderCmp:function(){return"profile"===this.type?b:"recent"===this.type?x:"starred"===this.type?M:"workSpace"===this.type?L:"invite"===this.type?F:"create"===this.type?q:void 0}},components:{profile:b,recent:x,starred:M,workSpace:L},methods:{updateBoard:function(t){console.log(t),this.$emit("updateBoard",t)},loadBoard:function(t){this.$emit("loadBoard",t)},closeModal:function(){this.$emit("closeModal")},updateUser:function(t){this.$emit("updateUser",t)},createBoard:function(t){this.$emit("createBoard",t)}}},Q=V,X=Object(f["a"])(Q,l,u,!1,null,null,null),Z=X.exports,tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"the-search"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterBy.title,expression:"filterBy.title"}],attrs:{type:"text",placeholder:"Search"},domProps:{value:t.filterBy.title},on:{input:[function(e){e.target.composing||t.$set(t.filterBy,"title",e.target.value)},t.setFilter]}}),t.showSearch?s("div",{staticClass:"filter-search-result"},t._l(t.filteredTasks,(function(e){return s("div",{key:e.id,staticClass:"search-res-container",on:{click:function(s){return t.goToTask(e)}}},[s("h3",{staticClass:"search-task-name"},[t._v(t._s(e.taskName))]),s("div",{staticClass:"search-content"},[s("p",[t._v("in")]),s("h3",[t._v(t._s(e.groupName))]),s("span",[t._v("on")]),s("h3",[t._v(t._s(e.boardName))])])])})),0):t._e()])},et=[],st=(s("99af"),{props:["boards"],name:"filterAppHeader",data:function(){return{filterBy:{title:""},boardFilter:null,showSearch:!1}},created:function(){},methods:{setFilter:function(){this.showSearch=!0},goToTask:function(t){this.filterBy.title="",this.showSearch=!1,this.$router.push("/b/".concat(t.boardId,"/g/").concat(t.groupId,"/t/").concat(t.taskId))}},computed:{filteredTasks:function(){var t=this,e=[];if(this.filterBy.title)return this.boards.forEach((function(s){s.groups.forEach((function(a){a.tasks.forEach((function(r){var n=r.title.toLowerCase().includes(t.filterBy.title.toLowerCase());if(n){var i={};i.groupId=a.id,i.groupName=a.title,i.boardId=s._id,i.boardName=s.title,i.taskId=r.id,i.taskName=r.title,e.push(i)}}))}))})),e},getBoards:function(){return this.$store.getters.boards}}}),at=st,rt=Object(f["a"])(at,tt,et,!1,null,null,null),nt=rt.exports,it={name:"appHeader",components:{headerDynamic:Z,filterAppHeader:nt},data:function(){return{type:null,boards:null,moreMenu:!1}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"loadBoards"});case 2:t.boards=t.getBoards;case 3:case"end":return e.stop()}}),e)})))()},methods:{setType:function(t){this.type=t,this.moreMenu=!1},moreBtn:function(){this.moreMenu=!this.moreMenu},createBoard:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=e.$store.getters.currUser,s.next=3,e.$store.dispatch({type:"createBoard",board:t,user:a});case 3:e.createMenu=!1,r=e.$store.getters.boards[e.$store.getters.boards.length-1]._id,e.$router.push("/b/"+r);case 6:case"end":return s.stop()}}),s)})))()},updateUser:function(t){this.$store.dispatch({type:"updateUser",user:t})},closeModal:function(){this.setType("")},loadBoard:function(t){this.$store.dispatch({type:"loadAndWatchBoard",boardId:t})}},computed:{getBoards:function(){return this.$store.getters.boards},getUser:function(){return this.$store.getters.currUser},initials:function(){var t=this.getUser.fullname.split(" ");return t=t.length>1?t.shift().charAt(0)+t.pop().charAt(0):this.getUser.fullname.substring(0,2),t.toUpperCase()}},directives:{clickOutside:m.a.directive}},ot=it,ct=Object(f["a"])(ot,o,c,!1,null,null,null),lt=ct.exports,ut={components:{appHeader:lt},data:function(){return{routes:["/","/workspace","/signup"],noHeaderRoutes:["/","/signup"],noBgc:!1,header:!0}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$store.commit({type:"setLoggedinUser"});case 1:case"end":return e.stop()}}),e)})))()},computed:{getBoard:function(){return this.$store.getters.getCurrBoard},getImgOrColor:function(){if(this.getBoard)return this.getBoard.style.backgroundColor?"background:"+this.getBoard.style.backgroundColor:"background-image:"+"url(".concat(s("bb6e")("./"+this.getBoard.style.backgroundUrl),")")},isDefault:function(){return this.noBgc?"no-background":"background"}},watch:{"$route.path":{handler:function(){this.routes.includes(this.$route.path)?this.noBgc=!0:this.noBgc=!1,this.noHeaderRoutes.includes(this.$route.path)?this.header=!1:this.header=!0},immediate:!0}}},dt=ut,pt=Object(f["a"])(dt,r,n,!1,null,null,null),ht=pt.exports,mt=s("9483");Object(mt["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var gt=s("8c4f"),vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("section",{staticClass:"homepage-content"},[s("nav",{staticClass:"homepage-nav"},[t._m(0),s("div",{staticClass:"user-actions"},[s("div",{staticClass:"login"},[s("router-link",{attrs:{to:"/signup/login"}},[t._v("Log in")])],1),s("div",{staticClass:"signup"},[s("router-link",{attrs:{to:"/signup"}},[t._v("Sign up")])],1)])]),s("div",{staticClass:"main-content"},[s("div",{staticClass:"main-hero"},[s("h2",{staticClass:"main-content-header"},[t._v(" Digitask helps teams move work forward. ")]),s("p",{staticClass:"main-info"},[t._v(" Collaborate, manage projects, and reach new productivity peaks. From high rises to the home office, the way your team works is unique-accomplish it all with Digitask. ")]),s("button",{staticClass:"get-started-btn",on:{click:t.setGuest}},[t._v(" Get started - it’s free! ")])]),t._m(1)]),t._m(2)])])},ft=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"homepage-logo"},[s("span",{staticClass:"trello-logo"},[s("i",{staticClass:"fab fa-trello"})]),s("div",{staticClass:"logo main-header-tabs"}),s("span",{staticClass:"app-title"},[t._v("DigiTask")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"homepage-image-container"},[s("img",{attrs:{src:"https://d2k1ftgv7pobq7.cloudfront.net/meta/p/res/images/spirit/hero/6a3ccd8e5c9a0e8ebea4235d12da6b24/hero.png"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"footer-title"},[s("p",[t._v("It’s more than work. It’s a way of working together.")]),s("p",[t._v(" Start with a Digitask board, lists, and cards. Customize and expand with more features as your teamwork grows. Manage projects, organize tasks, and build team spirit-all in one place. ")])])}],kt=s("2909");function bt(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<t;a++)e+=s.charAt(Math.floor(Math.random()*s.length));return e}function Ct(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}var yt={makeId:bt,getRandomInt:Ct,debounce:wt,applyDrag:_t};function wt(t){var e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return function(){for(var a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];var i=function(){clearTimeout(e),t.apply(void 0,r)};clearTimeout(e),e=setTimeout(i,s)}}function _t(t,e){var s=e.removedIndex,a=e.addedIndex,r=e.payload;if(console.log(s,a,r),null===s&&null===a)return t;var n=Object(kt["a"])(t),i=r;return null!==s&&(i=n.splice(s,1)[0]),null!==a&&n.splice(a,0,i),n}var Tt={name:"home",components:{},methods:{setGuest:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"signup",userCred:{username:"Guest"+yt.makeId(),fullname:"Guest",password:yt.makeId(12),imgUrl:"https://media.wired.co.uk/photos/60c8730fa81eb7f50b44037e/3:2/w_3329,h_2219,c_limit/1521-WIRED-Cat.jpeg",starred:[],recentBoards:[],mentions:[]}});case 2:t.$router.push("/workspace");case 3:case"end":return e.stop()}}),e)})))()}}},xt=Tt,Bt=Object(f["a"])(xt,vt,ft,!1,null,null,null),$t=Bt.exports,Ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"workspace-content"},[t.createMenu?s("board-create",{on:{closeCreateMenu:t.closeCreateMenu,createBoard:t.createBoard}}):t._e(),s("div",{staticClass:"workspace-container"},[t.getStarredBoards.length?s("div",{staticClass:"workspace-title"},[t._m(0),s("h1",[t._v("Starred Workspace")])]):t._e(),s("div",{staticClass:"boards-container"},[s("div",{staticClass:"boards-containers-my-boards"},t._l(t.getStarredBoards,(function(e){return s("div",{key:e._id,staticClass:"board-card",style:t.getBackground(e)},[s("router-link",{attrs:{to:"/b/"+e._id}},[s("div",{staticClass:"board-card-content"},[s("div",{staticClass:"board-card-title"},[t._v(t._s(e.title))]),s("div",{staticClass:"board-card-title-badges"})])])],1)})),0)]),t.getRecentBoard.length?s("div",{staticClass:"workspace-title"},[t._m(1),s("h1",[t._v("Recently Viewed")])]):t._e(),s("div",{staticClass:"boards-container"},[s("div",{staticClass:"boards-containers-my-boards"},t._l(t.getRecentBoard,(function(e){return s("div",{key:e._id,staticClass:"board-card",style:t.getBackground(e)},[s("router-link",{attrs:{to:"/b/"+e._id}},[s("div",{staticClass:"board-card-content"},[s("div",{staticClass:"board-card-title"},[t._v(t._s(e.title))]),s("div",{staticClass:"board-card-title-badges"})])])],1)})),0)]),t._m(2),s("div",{staticClass:"boards-container"},[t.getBoards?s("div",{staticClass:"boards-containers-my-boards"},[t._l(t.getBoards,(function(e){return s("div",{key:e._id,staticClass:"board-card",style:t.getBackground(e)},[s("router-link",{attrs:{to:"/b/"+e._id}},[s("div",{staticClass:"board-card-content"},[s("div",{staticClass:"board-card-title"},[t._v(t._s(e.title))]),s("div",{staticClass:"board-card-title-badges"})])])],1)})),s("div",{staticClass:"board-card-add"},[s("div",{staticClass:"board-card-title",on:{click:t.openCreateMenu}},[t._v(" Create new board "),s("span",{staticClass:"material-icons plus"},[t._v(" add ")])])])],2):t._e()])])],1)},Et=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[s("i",{staticClass:"fas fa-star"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[s("i",{staticClass:"far fa-clock"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"workspace-title"},[s("span",{staticClass:"trello-logo"},[s("i",{staticClass:"fab fa-trello"})]),s("h1",[t._v("Workspace")])])}],Dt={name:"digiApp",data:function(){return{createMenu:!1}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"loadBoards"});case 2:case"end":return e.stop()}}),e)})))()},methods:{openCreateMenu:function(){this.createMenu=!0},closeCreateMenu:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.createMenu=!1;case 1:case"end":return e.stop()}}),e)})))()},createBoard:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=e.$store.getters.currUser,s.next=3,e.$store.dispatch({type:"createBoard",board:t,user:a});case 3:e.createMenu=!1;case 4:case"end":return s.stop()}}),s)})))()},getBackground:function(t){return t.style.backgroundColor?{"background-color":t.style.backgroundColor}:{"background-image":"url(".concat(s("bb6e")("./"+t.style.backgroundUrl),")")}}},computed:{getBoards:function(){return this.$store.getters.boards},getUser:function(){return this.$store.getters.currUser},getStarredBoards:function(){var t=this,e=[];return this.$store.getters.currUser.starred.forEach((function(s){t.getBoards.forEach((function(t){t._id===s&&e.push(t)}))})),e},getRecentBoard:function(){var t=this,e=[];return this.$store.getters.currUser.recentBoards.forEach((function(s){t.getBoards.forEach((function(t){t._id===s&&e.push(t)}))})),e}},components:{boardCreate:q},watch:{"this.getUser":{handler:function(){this.getUser||this.$router.push("/")},immediate:!0}}},Mt=Dt,Ut=Object(f["a"])(Mt,Ot,Et,!1,null,null,null),St=Ut.exports,Nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"boardPage"},[t.isLoading?s("div",{staticClass:"loading-screen",style:t.getImgOrColor},[t._m(0)]):t._e(),t.getCurrBoard&&!t.isLoading?s("div",{directives:[{name:"dragscroll",rawName:"v-dragscroll:nochilddrag",arg:"nochilddrag"}],staticClass:"board-details-container",class:t.menuOpen},[t.board?s("board-header",{attrs:{board:t.getCurrBoard,showMenuOpen:t.showMenuOpen},on:{updateBoard:t.updateBoard,removeBoard:t.removeBoard,toggleMenu:t.toggleMenu,closeMenu:t.closeMenu,openMenu:t.openMenu}}):t._e(),s("div",{staticClass:"group-list-container"},[s("Container",{attrs:{"drag-class":"card-ghost","drop-class":"card-ghost-drop",orientation:"horizontal","drag-handle-selector":".draggable-item","get-child-payload":t.getChildPayload,"drop-placeholder":t.dropPlaceholderOptions},on:{drop:t.onDropGroup}},t._l(t.boardGroups,(function(e,a){return s("Draggable",{key:a},[s("group-list",{staticClass:"draggable-item",attrs:{group:e,idx:a,isMiniPreview:t.isMiniPreview,board:t.getCurrBoard},on:{addTask:t.addTask,updateGroup:t.updateGroup,updateTask:t.updateTask,deleteGroup:t.deleteGroup,miniPreview:t.miniPreview}})],1)})),1),s("div",[t.isNewGroup?s("form",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.toggleNewGroup,expression:"toggleNewGroup"}],staticClass:"add-list-form",on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addGroup.apply(null,arguments)}}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newGroup.title,expression:"newGroup.title"}],ref:"list",staticClass:"textarea-another-list",attrs:{oninput:'this.style.height = "";this.style.height = this.scrollHeight + "px"',onfocus:'this.style.height = "";this.style.height = this.scrollHeight + "px"',maxlength:"512",placeholder:"Enter list title..."},domProps:{value:t.newGroup.title},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()},input:function(e){e.target.composing||t.$set(t.newGroup,"title",e.target.value)}}}),t._v(" "),s("div",{staticClass:"add-list-form-btns"},[s("button",{staticClass:"add-task-btn",on:{click:t.addGroup}},[t._v("Add list")]),s("button",{staticClass:"add-task-close-btn",attrs:{type:"button"},on:{click:t.toggleNewGroup}},[s("span",{staticClass:"icon-lg close-icon"})])])]):s("button",{staticClass:"add-another-list",on:{click:t.toggleNewGroup}},[s("span",{staticClass:"material-icons"},[t._v(" add ")]),s("span",{staticClass:"title"},[t._v("Add another List")])])])],1),s("router-view")],1):t._e()])},Rt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"item item-1"}),s("div",{staticClass:"item item-2"}),s("div",{staticClass:"item item-3"}),s("div",{staticClass:"item item-4"})])}],It=s("5530"),Lt=(s("25f0"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"group-list-group"},[t.isEditing?s("form",{on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeTitle.apply(null,arguments)}}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.groupTitle,expression:"groupTitle"}],ref:"title",staticClass:"group-title",attrs:{oninput:t.onInputTextarea,onfocus:t.onFocusTextarea,maxlength:"512"},domProps:{value:t.groupTitle},on:{blur:t.disableTitleEdit,input:function(e){e.target.composing||(t.groupTitle=e.target.value)}}})]):s("div",{staticClass:"group-header",on:{click:t.openGroupTitleEdit}},[t._v(" "+t._s(t.group.title)+" ")]),s("button",{staticClass:"group-header-edit-btn",on:{click:t.actionOn}},[s("span",{staticClass:"icon-sm dots"})]),t.isActionOn?s("edit-dynamic",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.actionOff,expression:"actionOff"}],attrs:{type:"groupEdit",group:t.group},on:{closeModal:t.actionOff,newTaskOpen:t.newTaskOpen,deleteGroup:t.deleteGroup}}):t._e(),t.isNewTask?s("add-task",{attrs:{focusTextArea:t.focusTextArea,inGroup:t.inGroup},on:{closeNewTask:t.closeNewTask,addTask:t.addTask}}):t._e(),s("task-list",{staticClass:"group-single",attrs:{group:t.group,board:t.board,isMiniPreview:t.isMiniPreview,isNewTask:t.isNewTask,idx:t.idx},on:{onDrop:t.onDrop,editTask:t.editTask,addTask:t.addTask,miniPreview:t.miniPreview,updateTask:t.updateTask}})],1)])}),jt=[],At=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"task-list-container"},[s("div",{staticClass:"task-list-container-content thin-scrollbar"},[s("Container",{attrs:{"data-index":t.idx,"drop-class":"card-ghost-drop","drag-class":"card-ghost","group-name":"group-list-container","drop-placeholder":t.dropPlaceholderOptions,"get-child-payload":function(e){return t.getChildPayload(e)}},on:{drop:function(e){return t.onDrop(e)}}},t._l(t.groupTasks,(function(e,a){return s("Draggable",{key:a,staticClass:"task-list-content"},[s("div",{staticClass:"task-list-content"},[s("task-preview",{attrs:{isMiniPreview:t.isMiniPreview,task:e,board:t.getBoard},on:{updateTask:t.updateTask,miniPreview:t.miniPreview,editTask:t.editTask}})],1)])})),1)],1),t.isNewTask?t._e():s("add-task",{attrs:{isNewTask:t.isNewTask},on:{addTask:t.addTask}})],1)},Gt=[],Pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.task?s("div",{class:["task-preview-container",t.isImgUrlFull],style:t.mainContentBgColor,on:{click:function(e){return e.target!==e.currentTarget?null:t.editTask(t.task.id)},contextmenu:function(e){return e.preventDefault(),t.openEditModal(e,!0)}}},[t.hasCover?s("div",{staticClass:"task-cover",class:t.coverClasses,style:t.bgColor,on:{click:function(e){return t.editTask(t.task.id)}}}):t._e(),t.infoCover?s("task-preview-label",{attrs:{isMiniPreview:t.isMiniPreview,task:t.task,board:t.board},on:{miniPreview:t.miniPreview}}):t._e(),s("div",{staticClass:"task-preview",on:{click:function(e){return t.editTask(t.task.id)}}},[s("div",{staticClass:"task-preview-content",class:{"no-info":!t.infoCover}},[t._v(" "+t._s(t.task.title)+" ")]),s("span",{staticClass:"icon-settings pencil icon-sm edit-pencil-icon",attrs:{title:"Quick edit"},on:{click:function(e){return e.stopPropagation(),t.openEditModal.apply(null,arguments)}}},[t.getIsQuickEditOpen?s("div",{staticClass:"quick-edit-menu"},[s("edit-modal",{attrs:{task:t.task,editPos:t.editPos},on:{closeEditModal:t.closeEditModal,editTask:t.editTask}})],1):t._e()])]),s("div",{staticClass:"task-preview-info"},[t.hasInfo?s("span",{staticClass:"task-badges"},[s("div",{staticClass:"badges-container"},[t.validateDates?s("span",{staticClass:"badge due-date",class:t.isDueDate,attrs:{title:"Due date"},on:{click:t.toggleDueDateDone}},[s("span",{staticClass:"clock-icon"}),s("span",{staticClass:"short-date"},[t._v(t._s(t.startDate)+" "+t._s(t.dueDate))])]):t._e(),t.task.description?s("span",{staticClass:"badge description",attrs:{title:"Description"}}):t._e(),t.hasCommnets?s("span",{staticClass:"badge comments",attrs:{title:"Comments"}},[s("span",{staticClass:"comments-count"},[t._v(t._s(t.commnetsCount))])]):t._e(),t.todosLength?s("span",{staticClass:"badge checklist",class:t.todosDone,attrs:{title:"Checklist items"}},[s("span",{staticClass:"todos-done"},[t._v(t._s(t.renderChecklist))])]):t._e()]),t.attachmentCount?s("span",{staticClass:"badge attachments",attrs:{title:"Attachments"}},[s("span",{staticClass:"attachment-count"},[t._v(t._s(t.attachmentCount))])]):t._e(),t.hasMembers?s("span",{staticClass:"members-container"},t._l(t.taskMembers,(function(t,e){return s("span",{key:e,staticClass:"badge members"},[s("render-members",{attrs:{member:t}})],1)})),0):t._e()]):t._e()])],1):t._e()},Jt=[],Ft=(s("a4d3"),s("e01a"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.hasLabels?s("div",{staticClass:"task-label-preview-container"},t._l(t.taskLabels,(function(e){return s("div",{key:e.id,staticClass:"task-labels-container",on:{"!click":function(e){return t.miniPreview.apply(null,arguments)}}},[s("div",{staticClass:"label-preview",class:t.labelMini,style:{background:e.color},attrs:{title:e.title}},[s("transition",{attrs:{name:"fade"}},[t.isMiniPreview?t._e():s("span",{staticClass:"label-preview"},[s("span",{staticClass:"label-title"},[t._v(t._s(e.title)+" ")])])])],1)])})),0):t._e()}),Ht=[],Wt={name:"taskLabelPreview",props:["task","board","isMiniPreview"],data:function(){return{}},methods:{miniPreview:function(){this.$emit("miniPreview")},editTask:function(t){this.$emit("editTask",t)}},computed:{hasLabels:function(){return this.task.labelIds.length},taskLabels:function(){var t=this,e=[];return this.task.labelIds.forEach((function(s){t.board.labels.forEach((function(t){t.id===s&&e.push(t)}))})),e},labelMini:function(){return{mini:this.isMiniPreview}},backgroundColor:function(){}}},zt=Wt,Yt=Object(f["a"])(zt,Ft,Ht,!1,null,null,null),Kt=Yt.exports,qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.member?s("span",{staticClass:"user-tag-name",attrs:{title:t.member.fullname}},[s("img",{staticClass:"image-settings",attrs:{src:t.memberImg}})]):t._e()},Vt=[],Qt={props:["member"],computed:{memberImg:function(){return this.member.imgUrl}}},Xt=Qt,Zt=Object(f["a"])(Xt,qt,Vt,!1,null,null,null),te=Zt.exports,ee=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"black-screen",on:{mousedown:function(e){return e.stopPropagation(),e.preventDefault(),t.closeEditModal.apply(null,arguments)}}}),s("div",{staticClass:"edit-modal-container",style:t.editPos},[s("mini-task-preview",{attrs:{task:t.task},on:{updateTask:t.updateTask,closeEditModal:t.closeEditModal}}),s("div",{staticClass:"edit-modal-content"},[s("div",{staticClass:"float-modal-tab",on:{click:function(e){return t.setType("labels")}}},[s("span",{staticClass:"icon-ms label-icon"}),s("span",{staticClass:"tab-title"},[t._v("Edit labels")])]),s("div",{staticClass:"float-modal-tab",on:{click:function(e){return t.setType("members")}}},[s("span",{staticClass:"icon-ms member-icon"}),s("span",{staticClass:"tab-title"},[t._v("Change members")])]),s("div",{staticClass:"float-modal-tab",on:{click:function(e){return t.setType("cover")}}},[s("span",{staticClass:"icon-ms cover-icon"}),s("span",{staticClass:"tab-title"},[t._v("Change cover")])]),s("div",{staticClass:"float-modal-tab",on:{click:function(e){return t.setType("copy")}}},[s("span",{staticClass:"icon-ms card-icon"}),s("span",{staticClass:"tab-title"},[t._v("Copy")])]),s("div",{staticClass:"float-modal-tab",on:{click:function(e){return t.setType("dates")}}},[s("span",{staticClass:"icon-ms dates-icon"}),s("span",{staticClass:"tab-title"},[t._v("Edit dates")])]),s("div",{staticClass:"float-modal-tab",on:{click:function(e){return t.setType("archive")}}},[s("span",{staticClass:"icon-ms archive-icon"}),s("span",{staticClass:"tab-title"},[t._v("Archive")])])]),s("edit-dynamic",{attrs:{type:t.type,board:t.getBoard,getTask:t.task,user:t.getUser},on:{createLabel:t.createLabel,deleteLabel:t.deleteLabel,updateTask:t.updateTask,updateBoard:t.updateBoard,taskActivity:t.taskActivity,updateGroup:t.updateGroup,deleteTask:t.deleteTask,closeModal:t.closeModal}})],1)])},se=[],ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"dynamic-component-container",class:t.type},[s(t.renderCmp,{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeModal,expression:"closeModal"}],tag:"component",attrs:{board:t.board,task:t.getTask,user:t.user},on:{closeModal:t.closeModal,attachment:t.attachment,attachmentLink:t.attachmentLink,openNewTask:t.openNewTask,closeNewTask:t.closeNewTask,openCopyGroup:t.openCopyGroup,backToGroupEdit:t.backToGroupEdit,deleteTask:t.deleteTask,taskActivity:t.taskActivity,openDelete:t.openDelete,deleteGroup:t.deleteGroup,updateBoard:t.updateBoard,updateGroup:t.updateGroup,updateTask:t.updateTask,createLabel:t.createLabel,deleteLabel:t.deleteLabel}})],1)},re=[],ne=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dynamic-members-edit"},[s("button",{staticClass:"close",on:{click:t.closeModal}},[s("span",{staticClass:"menu-header-close-button"})]),t._m(0),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterBy,expression:"filterBy"}],attrs:{type:"text",placeholder:"Search Members",title:"Search for members"},domProps:{value:t.filterBy},on:{input:function(e){e.target.composing||(t.filterBy=e.target.value)}}}),s("h5",{staticClass:"subtitle"},[t._v("Board members")]),t.getBoard?s("div",t._l(t.filterMembers,(function(e){return s("div",{key:e._id},[e?s("div",{staticClass:"member-info-container",on:{click:function(s){return t.sendMember(e)}}},[s("span",{staticClass:"user-tag-name in-header"},[e.imgUrl?s("img",{staticClass:"image-settings",attrs:{src:e.imgUrl,title:e.fullname}}):s("span",[t._v(t._s(t.initials))])]),s("span",[t._v(t._s(e.fullname))])]):t._e()])})),0):t._e()])},ie=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header-layout"},[s("header",[t._v("Members")])])}],oe={name:"members",props:["board","task","user"],data:function(){return{boardCopy:null,updatedTask:JSON.parse(JSON.stringify(this.task)),filterBy:""}},created:function(){this.boardCopy=JSON.parse(JSON.stringify(this.getBoard))},methods:{sendMember:function(t){var e=this,s="",a=this.updatedTask.members.findIndex((function(e){return e._id===t._id}));a>-1?(this.updatedTask.members.splice(a,1),this.boardCopy.activities=this.boardCopy.activities.filter((function(s){return s.byMember._id!==t._id||s.task.id!==e.updatedTask.id})),this.$emit("updateTask",this.updatedTask),this.$emit("updateBoard",this.boardCopy),this.$nextTick((function(){e.boardCopy=JSON.parse(JSON.stringify(e.getBoard)),e.updatedTask=JSON.parse(JSON.stringify(e.task))}))):(s="".concat(this.getUser.fullname," added ").concat(t.fullname," to this card"),this.updatedTask.members.push(t),this.$emit("taskActivity",s)),this.$emit("updateTask",this.updatedTask),this.$nextTick((function(){e.boardCopy=JSON.parse(JSON.stringify(e.getBoard)),e.updatedTask=JSON.parse(JSON.stringify(e.task))}))},closeModal:function(){this.$emit("closeModal")}},computed:{getBoard:function(){return this.$store.getters.getCurrBoard},getUser:function(){return this.$store.getters.currUser},filterMembers:function(){var t=this;if(!this.filterBy)return this.boardCopy.members;var e=this.boardCopy.members.filter((function(e){return e.fullname.toLowerCase().includes(t.filterBy.toLowerCase())}));return e},initials:function(){var t=this.getUser.fullname.split(" ");return t=t.length>1?t.shift().charAt(0)+t.pop().charAt(0):this.getUser.fullname.substring(0,2),t.toUpperCase()}}},ce=oe,le=Object(f["a"])(ce,ne,ie,!1,null,null,null),ue=le.exports,de=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dynamic-checklist-edit"},[s("button",{staticClass:"close",on:{click:t.closeModal}},[s("span",{staticClass:"menu-header-close-button"})]),t._m(0),s("p",{staticClass:"subtitle"},[t._v("Title")]),s("form",{on:{submit:function(e){return e.preventDefault(),t.addChecklist.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newChecklist.title,expression:"newChecklist.title"}],attrs:{type:"text",placeholder:"Checklist title",title:"Checklist title"},domProps:{value:t.newChecklist.title},on:{input:function(e){e.target.composing||t.$set(t.newChecklist,"title",e.target.value)}}}),s("button",{staticClass:"add",attrs:{title:"Add checklist"}},[t._v("Add")])])])},pe=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header-layout"},[s("header",[t._v("Add checklist")])])}],he={props:["task"],name:"checklist",data:function(){return{taskToUpdate:{},newChecklist:{id:"c"+yt.makeId(),title:"",todos:[]}}},created:function(){this.taskToUpdate=JSON.parse(JSON.stringify(this.$store.getters.getCurrTask))},methods:{addChecklist:function(){this.newChecklist.title.match(/^\s*$/)||(this.taskToUpdate.checklists.push(this.newChecklist),this.$emit("updateTask",JSON.parse(JSON.stringify(this.taskToUpdate))),this.$emit("taskActivity","added a new checklist"),this.newChecklist={id:"c"+yt.makeId(),title:"",todos:[]})},closeModal:function(){this.$emit("closeModal")}}},me=he,ge=Object(f["a"])(me,de,pe,!1,null,null,null),ve=ge.exports,fe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.createMenu?t._e():s("div",{staticClass:"dynamic-labels-edit",class:{"on-menu":t.isBoardLabels}},[s("button",{staticClass:"close icon-sm",on:{click:t.closeModal}},[s("span",{staticClass:"menu-header-close-button"})]),s("div",{staticClass:"header-back-button",on:{click:t.goBack}},[s("span",{staticClass:"menu-header-back-button"})]),t._m(0),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filterBy,expression:"filterBy"}],attrs:{type:"text",placeholder:"Search labels...",title:"Search for labels"},domProps:{value:t.filterBy},on:{input:function(e){e.target.composing||(t.filterBy=e.target.value)}}}),s("div",{staticClass:"label-list-content"},[s("h5",{staticClass:"subtitle"},[t._v("Labels")]),s("div",{staticClass:"label-list-container"},t._l(t.filterLabels,(function(e){return s("ul",{key:e.id,staticClass:"label-color-ul"},[s("li",{staticClass:"label-list-color",style:"background-color:"+e.color,attrs:{title:e.title},on:{click:function(s){return t.addLabel(e)}}},[s("div",{staticClass:"label-list-title"},[s("span",[t._v(" "+t._s(e.title)+" ")])])]),s("div",[s("button",{staticClass:"label-edit-button",attrs:{title:"Edit label"},on:{click:function(s){t.labelToEdit(e),t.openCreateMenu()}}},[s("span",{staticClass:"icon-sm icon-pencil"})])])])})),0)]),s("button",{staticClass:"create",attrs:{title:"Create label"},on:{click:t.openCreateMenu}},[t._v("Create a new label")])]),t.createMenu?s("div",{staticClass:"dynamic-labels-edit",class:{"on-menu":t.isBoardLabels}},[s("button",{staticClass:"icon-sm close",on:{click:t.closeModal}},[s("span",{staticClass:"menu-header-close-button"})]),s("button",{staticClass:"back icon-sm",on:{click:t.closeCreateMenu}},[s("span",{staticClass:"menu-header-back-button"})]),s("div",{staticClass:"header-layout"},[s("header",[t._v(t._s(t.createUpdateTitle))])]),s("div",[s("p",{staticClass:"subtitle"},[t._v("Name")]),s("form",{on:{submit:t.createLabel}},[t.labelToUpdate?t._e():s("input",{directives:[{name:"model",rawName:"v-model",value:t.newLabel.title,expression:"newLabel.title"}],attrs:{type:"text",placeholder:"Label title",title:"Label title"},domProps:{value:t.newLabel.title},on:{input:function(e){e.target.composing||t.$set(t.newLabel,"title",e.target.value)}}}),t.labelToUpdate?s("input",{directives:[{name:"model",rawName:"v-model",value:t.labelToUpdate.title,expression:"labelToUpdate.title"}],attrs:{type:"text"},domProps:{value:t.labelToUpdate.title},on:{input:function(e){e.target.composing||t.$set(t.labelToUpdate,"title",e.target.value)}}}):t._e()])]),s("p",{staticClass:"subtitle"},[t._v("Select a color")]),s("div",[s("div",{staticClass:"dynamic-labels-color-container"},t._l(t.colors,(function(e,a){return s("div",{key:a},[s("span",{staticClass:"dynamic-labels-color-card",style:{"background-color":e},on:{click:function(s){return t.pickSelectedColor(e)}}},[e===t.selectedColor?s("span",{staticClass:"icon-settings icon-sm v-sign"}):t._e()])])})),0)]),t.labelToUpdate?t._e():s("button",{staticClass:"create-label-btn",attrs:{title:"Create label"},on:{click:function(e){return t.createLabel("create")}}},[t._v(" Create ")]),s("div",{staticClass:"btns-container"},[t.labelToUpdate?s("button",{attrs:{title:"Save changes"},on:{click:function(e){return t.createLabel("update")}}},[t._v(" Save ")]):t._e(),t.labelToUpdate?s("button",{staticClass:"remove",attrs:{title:"Delete label"},on:{click:t.deleteLabel}},[t._v(" Delete ")]):t._e()])]):t._e()])},ke=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header-layout"},[s("header",[t._v("Labels")])])}],be={name:"labels",props:["board","task","isBoardLabels"],data:function(){return{updatedTask:null,newLabel:{title:"",selectedColor:"#ff9f1a"},filterBy:"",labelToUpdate:null,selectedLabel:"",selectedColor:"",colors:["#61bd4f","#f2d600","#ff9f1a","#eb5a46","#c377e0","#0079bf","#00c2e0","#51e898","#ff78cb","#344563","#b3bac5"],createMenu:!1}},created:function(){this.task&&(this.updatedTask=JSON.parse(JSON.stringify(this.task))),this.$store.commit({type:"updateTask",task:this.updatedTask})},computed:{createOrUpdate:function(){return this.labelToUpdate?this.selectedColor:this.newLabel.selectedColor},createUpdateTitle:function(){return this.labelToUpdate?"Change label":"Create label"},getBoard:function(){return this.$store.getters.getCurrBoard},filterLabels:function(){var t=this;if(!this.filterBy)return this.getBoard.labels;var e=this.getBoard.labels.filter((function(e){return e.title.toLowerCase().includes(t.filterBy.toLowerCase())}));return e},getCurrTask:function(){return this.$store.getters.getCurrTask}},methods:{goBack:function(){this.$emit("goBack")},closeModal:function(){this.$emit("closeModal"),this.labelToUpdate=null},deleteLabel:function(){this.$emit("deleteLabel",this.labelToUpdate),this.labelToUpdate=null,this.createMenu=!1},labelToEdit:function(t){this.labelToUpdate=JSON.parse(JSON.stringify(t)),this.selectedColor=this.labelToUpdate.color},addLabel:function(t){var e=JSON.parse(JSON.stringify(this.updatedTask));if(this.isBoardLabels)this.labelToEdit(t);else{var s=e.labelIds.indexOf(t.id);s>-1?e.labelIds.splice(s,1):e.labelIds.push(t.id),this.updatedTask=e,this.$emit("updateTask",e)}},openCreateMenu:function(){this.createMenu=!0},closeCreateMenu:function(){this.createMenu=!1,this.labelToUpdate=null},pickSelectedColor:function(t){this.newLabel.selectedColor=t,this.labelToUpdate&&(this.labelToUpdate.color=t)},createLabel:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";"create"===t?(this.$emit("createLabel",this.newLabel),this.newLabel.title="",this.newLabel.selectedColor="#ff9f1a"):this.$emit("createLabel",this.labelToUpdate),this.selectedColor="",this.labelToUpdate=null,this.createMenu=!1}}},Ce=be,ye=Object(f["a"])(Ce,fe,ke,!1,null,null,null),we=ye.exports,_e=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dynamic-dates-edit"},[s("button",{staticClass:"close",on:{click:t.closeModal}},[s("span",{staticClass:"menu-header-close-button"})]),t._m(0),s("div",{staticClass:"time-picker"},[s("date-picker",{staticClass:"test",attrs:{valueType:"timestamp",range:"",inline:"",placeholder:"Select date range"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),s("transition",{attrs:{name:"fade"}},[t.isInvalid?s("div",[t._v("Pick start date and due date")]):t._e()]),s("button",{staticClass:"save",attrs:{title:"Save date/s"},on:{click:t.saveDates}},[t._v("Save")])],1)},Te=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header-layout"},[s("header",[t._v("Dates")])])}],xe=s("ec45"),Be=(s("411c"),{name:"dates",props:["task"],data:function(){return{updatedTask:JSON.parse(JSON.stringify(this.task)),date:[],isInvalid:!1}},created:function(){},methods:{closeModal:function(){this.$emit("closeModal")},saveDates:function(){var t=this;if(this.date.length<1)return this.isInvalid||setTimeout((function(){t.isInvalid=!1}),2e3),void(this.isInvalid=!0);this.updatedTask.dates.startDate=this.date[0],this.updatedTask.dates.dueDate=this.date[1],this.$emit("updateTask",this.updatedTask),this.updatedTask=JSON.parse(JSON.stringify(this.task))}},computed:{},components:{datePicker:xe["a"]}}),$e=Be,Oe=Object(f["a"])($e,_e,Te,!1,null,null,null),Ee=Oe.exports,De=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dynamic-attachment-edit"},[s("button",{staticClass:"close",on:{click:t.closeModal}},[s("span",{staticClass:"menu-header-close-button top-right"})]),t._m(0),s("label",{attrs:{title:"Attach from computer"}},[s("span",{staticClass:"subtitle"},[t._v("Computer")]),s("input",{attrs:{type:"file",hidden:""},on:{change:t.addAttachment}})]),s("div",{staticClass:"add-link"},[s("p",{staticClass:"title"},[t._v("Attach a link")]),s("form",{on:{submit:function(e){return e.preventDefault(),t.addLinkAttachment.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.attachmentLink,expression:"attachmentLink"}],attrs:{type:"text",placeholder:"Paste any link here...",title:"Attach link"},domProps:{value:t.attachmentLink},on:{input:function(e){e.target.composing||(t.attachmentLink=e.target.value)}}}),s("button",{staticClass:"attach",attrs:{title:"Attach"}},[t._v("Attach")])])])])},Me=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header-layout"},[s("header",[t._v("Attach from...")])])}],Ue={name:"attachment",data:function(){return{attachmentLink:""}},methods:{addAttachment:function(t){this.$emit("attachment",t)},addLinkAttachment:function(){this.$emit("attachmentLink",this.attachmentLink)},closeModal:function(){this.$emit("closeModal")}}},Se=Ue,Ne=Object(f["a"])(Se,De,Me,!1,null,null,null),Re=Ne.exports,Ie=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dynamic-cover-edit"},[s("button",{staticClass:"close",on:{click:t.closeModal}},[s("span",{staticClass:"menu-header-close-button"})]),t._m(0),s("div",{staticClass:"main-container"},[s("p",{staticClass:"subtitles top"},[t._v("Size")]),s("div",{staticClass:"size-preview"},[s("div",{staticClass:"layout with-info",class:t.infoSelected,attrs:{title:"Small"},on:{click:function(e){return t.selectMode(!0)}}},[s("div",{staticClass:"top-preview-bgc",style:t.sizeBgc}),t._m(1),s("div",{staticClass:"line-2"}),s("div",{staticClass:"line-3"})]),s("div",{staticClass:"layout no-info",class:t.noInfoSelected,style:t.sizeBgc,attrs:{title:"Large"},on:{click:function(e){return t.selectMode(!1)}}},[s("div",{staticClass:"line-1"}),s("div",{staticClass:"line-2"})])]),t.taskBgc?s("button",{on:{click:t.removeCover}},[t._v("Remove Cover")]):t._e(),s("p",{staticClass:"subtitles"},[t._v("Color")]),s("div",{staticClass:"color-button-container"},t._l(t.colors,(function(e,a){return s("div",{key:a,on:{click:function(s){return t.setCover(e,"color")}}},[s("div",{staticClass:"color-button",class:{"selected-cover":e===t.pickedColor},style:"background:"+e})])})),0),s("div",{staticClass:"dynamic-attachment-edit"},[s("p",{staticClass:"subtitles"},[t._v("Attachments")]),s("div",{staticClass:"cover-attachments"},t._l(t.getTaskAttachments,(function(e){return s("div",{key:e.id},[s("img",{class:{"selected-cover":e.imgUrl===t.pickedImg},attrs:{src:e.imgUrl,title:e.txt},on:{click:function(s){return t.setCover(e.imgUrl)}}})])})),0),s("label",[s("span",{staticClass:"subtitle",attrs:{title:"Upload cover image"}},[t._v("Upload a cover image")]),s("input",{attrs:{type:"file",hidden:""},on:{change:t.addAttachment}})])])])])},Le=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header-layout"},[s("header",[t._v("Cover")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"line-1"},[s("div",{staticClass:"mini-line-1"}),s("div",{staticClass:"mini-line-2"}),s("span",{staticClass:"mini-circle"})])}],je={name:"cover",props:["task"],data:function(){return{updatedTask:null,colors:["#7BC86C","#F5DD29","#FFAF3F","#EF7564","#CD8DE5","#5BA4CF","#29CCE5","#6DECA9","#FF8ED4"],pickedColor:null,pickedImg:null}},created:function(){this.updatedTask=JSON.parse(JSON.stringify(this.task)),this.pickedColor=this.updatedTask.style.bgColor,this.pickedImg=this.updatedTask.style.imgUrl},methods:{selectMode:function(t){if(this.updatedTask.style.bgColor||this.updatedTask.style.imgUrl){this.updatedTask.style.isInfo=t;var e=JSON.parse(JSON.stringify(this.updatedTask));this.$emit("updateTask",e)}},addAttachment:function(t){this.$emit("attachment",t)},closeModal:function(){this.$emit("closeModal")},setCover:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"img";"color"===e?(this.updatedTask.style.bgColor=t,this.pickedColor=t,this.updatedTask.style.imgUrl="",this.pickedImg=null):(this.updatedTask.style.imgUrl=t,this.pickedImg=t,this.updatedTask.style.bgColor="",this.pickedColor=null),this.selectMode(this.updatedTask.style.isInfo);var s=JSON.parse(JSON.stringify(this.updatedTask));this.$emit("updateTask",s)},removeCover:function(){this.updatedTask.style.bgColor="",this.updatedTask.style.imgUrl="",this.pickedColor="",this.pickedImg="",this.$emit("updateTask",this.updatedTask)}},computed:{sizeBgc:function(){return this.updatedTask.style.bgColor?{background:this.updatedTask.style.bgColor}:{"background-image":"url("+this.updatedTask.style.imgUrl+")"}},infoSelected:function(){return{"selected-cover":this.updatedTask.style.isInfo&&(this.updatedTask.style.bgColor||this.updatedTask.style.imgUrl)}},noInfoSelected:function(){return{"selected-cover":!this.updatedTask.style.isInfo&&(this.updatedTask.style.bgColor||this.updatedTask.style.imgUrl)}},taskBgc:function(){return this.updatedTask.style.bgColor},getTask:function(){return this.$store.getCurrTask},getTaskAttachments:function(){var t=this,e=[];return this.$store.getters.getCurrBoard.attachments.forEach((function(s){s.task.id===t.task.id&&e.push(s)})),e}}},Ae=je,Ge=Object(f["a"])(Ae,Ie,Le,!1,null,null,null),Pe=Ge.exports,Je=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dynamic-move-edit"},[s("button",{staticClass:"close",on:{click:t.closeModal}},[s("span",{staticClass:"menu-header-close-button"})]),t._m(0),t._m(1)])},Fe=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header-layout"},[s("header",[t._v("Move card")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"main-container"},[s("p",[t._v("Select destination")]),s("div",[t._v("BOARD HERE")]),s("div",[t._v("LIST HERE")]),s("div",[t._v("POSITION?")])])])}],He={name:"move",methods:{closeModal:function(){this.$emit("closeModal")}}},We=He,ze=Object(f["a"])(We,Je,Fe,!1,null,null,null),Ye=ze.exports,Ke=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dynamic-archive-edit"},[s("button",{staticClass:"close",on:{click:t.closeModal}},[s("span",{staticClass:"menu-header-close-button"})]),s("div",{staticClass:"header-layout"},[s("header",[t._v(" Delete "),s("span",[t._v(t._s(t.whichDelete))])])]),s("div",{staticClass:"main-container"},[s("p",[t._v(" All actions will be removed from the activity feed and you won’t be able to re-open the card. There is no undo. ")]),s("button",{on:{click:t.deleteThis}},[t._v("Delete")])])])},qe=[],Ve={name:"archive",props:{isGroup:{type:Boolean,default:!1},task:{type:Object}},methods:{deleteThis:function(){this.isGroup?this.$emit("deleteGroup"):this.$emit("deleteTask",this.task),this.closeModal()},closeModal:function(){this.$emit("closeModal")}},computed:{whichDelete:function(){return this.isGroup?"list":"card"}}},Qe=Ve,Xe=Object(f["a"])(Qe,Ke,qe,!1,null,null,null),Ze=Xe.exports,ts=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("button",{staticClass:"close",on:{click:t.closeModal}},[s("span",{staticClass:"menu-header-close-button"})]),s("p",[t._v("Share and more...")]),s("p",[t._v("POTENTIALLY NOT DOING THIS")])])},es=[],ss={name:"share",methods:{closeModal:function(){this.$emit("closeModal")}}},as=ss,rs=Object(f["a"])(as,ts,es,!1,null,null,null),ns=rs.exports,is=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"dynamic-group-edit card-layout nav-modal"},["openDelete"!==t.type?s("div",[s("button",{staticClass:"close",on:{click:t.closeModal}},[s("span",{staticClass:"menu-header-close-button"})]),t._m(0),s("div",{staticClass:"dynamic-menu-content"},[s("p",{on:{click:t.openNewTask}},[t._v("Add card...")]),s("p",{on:{click:t.openCopyGroup}},[t._v("Copy list...")]),s("div",{staticClass:"card-line"}),s("p",{on:{click:t.openDelete}},[t._v("Delete...")])])]):s("div",{staticClass:"checked"},[s("archive",{attrs:{isGroup:!0},on:{deleteGroup:t.deleteGroup,closeModal:t.closeModal}})],1)])},os=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header-layout"},[s("header",[t._v("List ations")])])}],cs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeNewTask,expression:"closeNewTask"}],staticClass:"add-task"},[t.openNewTask?s("div",[s("form",{staticClass:"add-task-form",on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTask.apply(null,arguments)}}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newTask,expression:"newTask"}],ref:"task",staticClass:"textarea add-task",attrs:{oninput:'this.style.height = "";this.style.height = this.scrollHeight + "px"',onfocus:'this.style.height = "";this.style.height = this.scrollHeight + "px"',placeholder:"Enter a title for this card...",maxlength:"512"},domProps:{value:t.newTask},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()},input:function(e){e.target.composing||(t.newTask=e.target.value)}}}),t._v(" "),s("div",{staticClass:"add-task-form-btns"},[s("button",{staticClass:"add-task-btn",on:{click:t.addTask}},[t._v("Add card")]),s("button",{staticClass:"add-task-close-btn",attrs:{type:"button"},on:{click:t.closeNewTask}},[s("span",{staticClass:"icon-lg close-icon"})])])])]):t._e(),t.openNewTask?t._e():s("div",{staticClass:"add-task-add-card",on:{click:t.newTaskOn}},[t._m(0),s("span",{staticClass:"title"},[t._v("Add a card")])])])},ls=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"group-add-plus"},[s("span",{staticClass:"material-icons"},[t._v(" add ")])])}],us={name:"addTask",props:{inGroup:{type:Boolean,default:!1}},created:function(){var t=this;this.inGroup&&(this.openNewTask=!0,this.$nextTick((function(){t.$refs.task.focus()})))},data:function(){return{newTask:"",openNewTask:!1}},methods:{addTask:function(){var t=this;this.newTask.length&&!this.newTask.match(/^\s*$/)?(this.$emit("addTask",this.newTask),this.newTask="",this.$nextTick((function(){t.$refs.task.focus()}))):this.$nextTick((function(){t.$refs.task.focus()}))},closeNewTask:function(){this.openNewTask=!1,this.newTask="",this.$emit("closeNewTask")},newTaskOn:function(){var t=this;this.$emit("openNewTask"),this.openNewTask=!0,this.$nextTick((function(){t.$refs.task.focus()}))}},directives:{clickOutside:m.a.directive}},ds=us,ps=Object(f["a"])(ds,cs,ls,!1,null,null,null),hs=ps.exports,ms={name:"group-edit",data:function(){return{type:""}},methods:{closeModal:function(){this.$emit("closeModal")},openNewTask:function(){this.$emit("openNewTask"),this.closeModal()},closeNewTask:function(){this.$emit("closeNewTask")},openCopyGroup:function(){this.type="copyGroup"},openDelete:function(){this.type="openDelete"},deleteGroup:function(){this.$emit("deleteGroup")}},components:{addTask:hs,archive:Ze}},gs=ms,vs=Object(f["a"])(gs,is,os,!1,null,null,null),fs=vs.exports,ks=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dynamic-copy-edit"},[s("button",{staticClass:"close",on:{click:t.closeModal}},[s("span",{staticClass:"menu-header-close-button"})]),s("header",[t._v("Copy card")]),s("div",[s("form",{on:{submit:function(e){return e.preventDefault(),t.addNewCopy.apply(null,arguments)}}}),s("p",{staticClass:"subtitle"},[t._v("Title")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.taskToCopy.title,expression:"taskToCopy.title"}],attrs:{type:"text",title:"Card title"},domProps:{value:t.taskToCopy.title},on:{input:function(e){e.target.composing||t.$set(t.taskToCopy,"title",e.target.value)}}})]),s("div",[s("p",{staticClass:"subtitle"},[t._v("Copy to...")]),s("div",{staticClass:"copy-to",attrs:{title:"Copy to new group"}},[s("label",{staticClass:"label-title"},[t._v("List")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.groupId,expression:"groupId"}],staticClass:"select-settings",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.groupId=e.target.multiple?s:s[0]}}},t._l(t.updateBoard.groups,(function(e){return s("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.title)+" ")])})),0)])]),s("button",{staticClass:"create-copy-btn",attrs:{title:"Create card"},on:{click:t.addNewCopy}},[t._v("Create card")])])},bs=[],Cs={name:"copy",props:["task","board"],data:function(){return{groupId:null,updateBoard:null,taskToCopy:null}},created:function(){this.updateBoard=JSON.parse(JSON.stringify(this.getBoard)),this.taskToCopy=JSON.parse(JSON.stringify(this.task))},methods:{setCopyTo:function(t){this.groupId=t.target.value},addNewCopy:function(){var t=this,e=this.updateBoard.groups.findIndex((function(e){return e.id===t.groupId}));this.taskToCopy.id="t"+yt.makeId();var s=this.updateBoard.groups[e];console.log(this.updateBoard),s.tasks.push(this.taskToCopy),this.$emit("updateGroup",JSON.parse(JSON.stringify(s)))},closeModal:function(){this.$emit("closeModal")}},computed:{getBoard:function(){return this.$store.getters.getCurrBoard}}},ys=Cs,ws=Object(f["a"])(ys,ks,bs,!1,null,null,null),_s=ws.exports,Ts={name:"editDynamic",props:["type","getBoard","getTask","group","getUser"],data:function(){return{board:{},task:{},user:{}}},created:function(){this.board=this.getBoard,this.task=this.getTask,this.user=this.getUser},computed:{renderCmp:function(){return"members"===this.type?ue:"labels"===this.type?we:"checklist"===this.type?ve:"dates"===this.type?Ee:"attachment"===this.type?Re:"cover"===this.type?Pe:"move"===this.type?Ye:"copy"===this.type?_s:"archive"===this.type?Ze:"share"===this.type?ns:"groupEdit"===this.type?fs:"copyGroup"===this.type?copyGroup:void 0}},components:{copy:_s,members:ue,labels:we,checklist:ve,dates:Ee,attachment:Re,cover:Pe,move:Ye,archive:Ze,share:ns,groupEdit:fs},methods:{closeModal:function(){this.$emit("closeModal")},attachment:function(t){this.$emit("attachment",t,this.task)},attachmentLink:function(t){this.$emit("attachmentLink",t)},deleteTask:function(t){this.$emit("deleteTask",t)},updateTask:function(t){this.$emit("updateTask",t)},openNewTask:function(){this.$emit("newTaskOpen")},closeNewTask:function(){this.$emit("closeNewTask")},updateGroup:function(t){this.$emit("updateGroup",t)},openCopyGroup:function(){this.$emit("openModal","copyGroup")},backToGroupEdit:function(){this.$emit("openModal","groupEdit")},openDelete:function(){this.$emit("openModal","archive")},taskActivity:function(t){this.$emit("taskActivity",t)},deleteGroup:function(){this.$emit("deleteGroup",this.group)},updateBoard:function(t){this.$emit("updateBoard",t)},createLabel:function(t){this.$emit("createLabel",t)},deleteLabel:function(t){this.$emit("deleteLabel",t)}},directives:{clickOutside:m.a.directive}},xs=Ts,Bs=Object(f["a"])(xs,ae,re,!1,null,null,null),$s=Bs.exports,Os=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"edit-modal-preview-container"},[t.task?s("div",{staticClass:"task-preview-container edit-preview-container ",style:t.mainContentBgColor},[t.infoCover?s("task-preview-label",{attrs:{isMiniPreview:!0,task:t.task,board:t.getBoard}}):t._e(),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.updatedTask.title,expression:"updatedTask.title"}],ref:"taskTitle",staticClass:"textarea-another-list",attrs:{oninput:'this.style.height = "";this.style.height = this.scrollHeight + "px"',onfocus:'this.style.height = "";this.style.height = this.scrollHeight + "px"',maxlength:"512",placeholder:"Enter Task title..."},domProps:{value:t.updatedTask.title},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.saveTitle.apply(null,arguments))},input:function(e){e.target.composing||t.$set(t.updatedTask,"title",e.target.value)}}}),s("div",{staticClass:"task-preview-info"},[t.hasInfo?s("span",{staticClass:"task-badges"},[s("div",{staticClass:"badges-container"},[t.validateDates?s("span",{staticClass:"badge due-date",class:t.isDueDate},[s("span",{staticClass:"clock-icon"}),s("span",{staticClass:"short-date"},[t._v(t._s(t.startDate)+" "+t._s(t.dueDate))])]):t._e(),t.task.description?s("span",{staticClass:"badge description"}):t._e(),t.hasCommnets?s("span",{staticClass:"badge comments"},[s("span",{staticClass:"comments-count"},[t._v(t._s(t.commnetsCount))])]):t._e(),t.todosLength?s("span",{staticClass:"badge checklist",class:t.todosDone},[s("span",{staticClass:"todos-done"},[t._v(t._s(t.renderChecklist))])]):t._e()]),t.hasMembers?s("span",{staticClass:"members-container"},t._l(t.taskMembers,(function(t,e){return s("span",{key:e,staticClass:"badge members"},[s("render-members",{attrs:{member:t}})],1)})),0):t._e()]):t._e()]),s("div",{staticClass:"edit-modal-save-btn"},[s("span",{on:{click:t.saveTitle}},[s("button",[t._v("Save")])])])],1):t._e()])},Es=[],Ds={name:"miniTaskPreview",props:["task"],data:function(){return{updatedTask:{}}},created:function(){var t=this;this.updatedTask=JSON.parse(JSON.stringify(this.task)),this.$nextTick((function(){t.$refs.taskTitle.focus(),t.$refs.taskTitle.select()}))},methods:{saveTitle:function(){var t=JSON.parse(JSON.stringify(this.getCurrTask));this.$emit("updateTask",t),this.$emit("closeEditModal")}},computed:{hasCover:function(){return this.task.style.bgColor},hasInfo:function(){return(this.hasCommnets||this.validateDates||this.task.description||this.todosLength)&&this.infoCover},hasCommnets:function(){return this.task.comments&&this.task.comments.length},commnetsCount:function(){return this.task.comments.length},hasMembers:function(){return this.task.members&&this.task.members.length},startDate:function(){var t=new Date(this.task.dates.dueDate).getTime(),e=new Date(this.task.dates.startDate).getTime();if(!(t-e<864e5)){var s=new Date(this.task.dates.startDate),a=s.toLocaleString("en-us",{month:"short"}),r=s.getDate(),n="".concat(a,"  ").concat(r," - ");return n}},dueDate:function(){var t=new Date(this.task.dates.dueDate),e=t.toLocaleString("en-us",{month:"short"}),s=t.getDate(),a="".concat(e,"  ").concat(s);return a},isDueDate:function(){var t=Date.now(),e=new Date(this.task.dates.dueDate).getTime(),s=e-t+864e5<864e5,a=e-t+864e5<0,r=this.task.dates.isDone;return{"over-due":a&!r,"due-soon":!a&&s&&!r,done:r}},validateDates:function(){return this.task.dates.startDate||this.task.dates.dueDate},taskMembers:function(){return this.task.members},bgColor:function(){return{"background-color":this.task.style.bgColor}},infoCover:function(){return this.task.style.isInfo},taskChecklist:function(){return this.task.checklists},todosLength:function(){var t=this.task.checklists.reduce((function(t,e){return t+=e.todos.length,t}),0);return t},renderChecklist:function(){var t=this.task.checklists.reduce((function(t,e){return t+=e.todos.reduce((function(t,e){return e.isDone&&t++,t}),0),t}),0);return"".concat(t,"/").concat(this.todosLength)},mainContentBgColor:function(){if(!this.task.style.isInfo)return{"background-color":this.task.style.bgColor}},todosDone:function(){var t=this.todosLength,e=this.task.checklists.reduce((function(t,e){return t+=e.todos.reduce((function(t,e){return e.isDone&&t++,t}),0),t}),0);return{"done-todos":t===e}},getBoard:function(){return this.$store.getters.getCurrBoard},getUser:function(){return this.$store.getters.currUser},getCurrTask:function(){return this.$store.getters.getCurrTask}},components:{taskPreviewLabel:Kt,renderMembers:te}},Ms=Ds,Us=Object(f["a"])(Ms,Os,Es,!1,null,null,null),Ss=Us.exports,Ns={name:"editModal",props:["task","editPos"],directives:{clickOutside:m.a.directive},data:function(){return{type:""}},created:function(){},methods:{editTask:function(){this.closeEditModal(),this.$emit("editTask",this.task.id)},closeModal:function(){this.type=""},closeEditModal:function(){this.$emit("closeEditModal")},setType:function(t){this.type=t},deleteLabel:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.$store.dispatch({type:"deleteLabel",label:t});case 2:case"end":return s.stop()}}),s)})))()},createLabel:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.$store.dispatch({type:"createLabel",label:t});case 2:case"end":return s.stop()}}),s)})))()},updateTask:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.$store.dispatch({type:"updateTask",task:t});case 2:case"end":return s.stop()}}),s)})))()},deleteTask:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.$store.dispatch({type:"removeTask",task:t});case 2:case"end":return s.stop()}}),s)})))()},updateBoard:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.$store.dispatch({type:"updateBoard",board:t});case 2:case"end":return s.stop()}}),s)})))()},taskActivity:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:a=e.getUser,e.$store.dispatch({type:"addActivity",activity:{task:e.task,txt:t,user:a}});case 2:case"end":return s.stop()}}),s)})))()},updateGroup:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.$store.dispatch({type:"updateGroup",group:t});case 2:case"end":return s.stop()}}),s)})))()}},computed:{getTask:function(){return this.$store.getters.getTask},getBoard:function(){return this.$store.getters.getCurrBoard},getUser:function(){return this.$store.getters.currUser}},components:{editDynamic:$s,miniTaskPreview:Ss}},Rs=Ns,Is=Object(f["a"])(Rs,ee,se,!1,null,null,null),Ls=Is.exports,js={name:"taskPreview",props:["task","board","isMiniPreview"],data:function(){return{isOpenEditModal:!1,editPos:{left:"",top:""}}},created:function(){this.editTask=yt.debounce(this.editTask)},methods:{openEditModal:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.isOpenEditModal||(this.isOpenEditModal=!0,this.editPos.left=e?t.x-t.offsetX+240+"px":t.x-t.offsetX+20+"px",this.editPos.top=t.y-t.offsetY-130+"px")},closeEditModal:function(){this.isOpenEditModal=!1},editTask:function(t){this.$emit("editTask",t)},miniPreview:function(){this.$emit("miniPreview")},updateTask:function(t){this.$emit("updateTask",t)},toggleDueDateDone:function(){var t=JSON.parse(JSON.stringify(this.task));t.dates.isDone=!t.dates.isDone,this.$emit("updateTask",t)}},computed:{hasCover:function(){return this.task.style.bgColor||this.task.style.imgUrl},coverClasses:function(){return{small:!this.infoCover,img:this.task.style.imgUrl&&this.infoCover}},hasInfo:function(){return(this.hasCommnets||this.validateDates||this.task.description||this.attachmentCount||this.hasMembers||this.todosLength)&&this.infoCover},hasCommnets:function(){return this.task.comments&&this.task.comments.length},commnetsCount:function(){return this.task.comments.length},hasMembers:function(){return this.task.members&&this.task.members.length},attachmentCount:function(){var t=this,e=this.getBoard.attachments.reduce((function(e,s){return s.task.id===t.task.id&&e++,e}),0);return e},startDate:function(){var t=new Date(this.task.dates.dueDate).getTime(),e=new Date(this.task.dates.startDate).getTime();if(!(t-e<864e5)){var s=new Date(this.task.dates.startDate),a=s.toLocaleString("en-us",{month:"short"}),r=s.getDate(),n="".concat(a,"  ").concat(r," - ");return n}},dueDate:function(){var t=new Date(this.task.dates.dueDate),e=t.toLocaleString("en-us",{month:"short"}),s=t.getDate(),a="".concat(e,"  ").concat(s);return a},isDueDate:function(){var t=Date.now(),e=new Date(this.task.dates.dueDate).getTime(),s=e-t+864e5<864e5,a=e-t+864e5<0,r=this.task.dates.isDone;return{"over-due":a&!r,"due-soon":!a&&s&&!r,done:r}},validateDates:function(){return this.task.dates.startDate||this.task.dates.dueDate},taskMembers:function(){return this.task.members},bgColor:function(){return this.task.style.bgColor?{background:this.task.style.bgColor}:this.task.style.imgUrl&&this.task.style.isInfo?{"background-image":"url("+this.task.style.imgUrl+")"}:void 0},infoCover:function(){return this.task.style.isInfo},taskChecklist:function(){return this.task.checklists},todosLength:function(){var t=this.task.checklists.reduce((function(t,e){return t+=e.todos.length,t}),0);return t},renderChecklist:function(){var t=this.task.checklists.reduce((function(t,e){return t+=e.todos.reduce((function(t,e){return e.isDone&&t++,t}),0),t}),0);return"".concat(t,"/").concat(this.todosLength)},mainContentBgColor:function(){if(!this.task.style.isInfo)return this.task.style.bgColor?{background:this.task.style.bgColor}:{"background-image":"url("+this.task.style.imgUrl+")"}},isImgUrlFull:function(){return{"full-cover":this.task.style.imgUrl&&!this.task.style.isInfo}},todosDone:function(){var t=this.todosLength,e=this.task.checklists.reduce((function(t,e){return t+=e.todos.reduce((function(t,e){return e.isDone&&t++,t}),0),t}),0);return{"done-todos":t===e}},getBoard:function(){return this.$store.getters.getCurrBoard},getUser:function(){return this.$store.getters.currUser},getIsQuickEditOpen:function(){return this.isOpenEditModal}},components:{taskPreviewLabel:Kt,renderMembers:te,editModal:Ls}},As=js,Gs=Object(f["a"])(As,Pt,Jt,!1,null,null,null),Ps=Gs.exports,Js=s("3f7d"),Fs={name:"taskList",props:["group","isNewTask","idx","board","isMiniPreview"],components:{taskPreview:Ps,addTask:hs,Container:Js["Container"],Draggable:Js["Draggable"]},data:function(){return{dropPlaceholderOptions:{className:"drop-preview",animationDuration:"150",showOnTop:!0}}},methods:{created:function(){},editTask:function(t){this.$emit("editTask",t,this.group.id)},miniPreview:function(){this.$emit("miniPreview")},addTask:function(t){this.$emit("addTask",t,this.group.id)},updateTask:function(t){this.$emit("updateTask",t)},onDrop:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,a={groupIdx:e.idx,dropResult:t},s.next=4,e.$store.dispatch({type:"applyDrag",content:a});case 4:s.next=9;break;case 6:s.prev=6,s.t0=s["catch"](0),console.log("Couldnt drag group",s.t0);case 9:case"end":return s.stop()}}),s,null,[[0,6]])})))()},getChildPayload:function(t){return this.board.groups[this.idx].tasks[t]}},computed:{groupTasks:function(){return this.group.tasks},getBoard:function(){return this.$store.getters.getCurrBoard}}},Hs=Fs,Ws=Object(f["a"])(Hs,At,Gt,!1,null,null,null),zs=Ws.exports,Ys={name:"groupList",props:["group","idx","board","isMiniPreview"],components:{taskList:zs,editDynamic:$s,addTask:hs},data:function(){return{groupTitle:"",isEditing:!1,isActionOn:!1,isNewTask:!1,inGroup:!0,focusTextArea:!0}},created:function(){},methods:{miniPreview:function(){this.$emit("miniPreview")},changeTitle:function(){var t=this;this.$nextTick((function(){t.$refs.title.blur()}))},actionOn:function(){this.isActionOn=!0},actionOff:function(){this.isActionOn&&(this.isActionOn=!1)},editTask:function(t,e){var s=this.$route.params.boardId,a="".concat(s,"/g/").concat(e,"/t/").concat(t);this.$router.push(a)},addTask:function(t){this.$emit("addTask",t,this.idx)},newTaskOpen:function(){this.isNewTask=!0},closeNewTask:function(){this.isNewTask=!1},updateTask:function(t){this.$emit("updateTask",t)},updateGroup:function(t){this.$emit("updateGroup",Object(It["a"])({},t))},disableTitleEdit:function(){if(this.groupTitle){var t=JSON.parse(JSON.stringify(this.group));t.title=this.groupTitle,this.$emit("updateGroup",t)}this.isEditing=!1,this.groupTitle=""},openGroupTitleEdit:function(){var t=this;this.isEditing=!0,this.groupTitle=this.group.title,this.$nextTick((function(){t.$refs.title.focus(),t.$refs.title.select()}))},onDrop:function(t,e){t||(t=this.idx),this.$emit("onDrop",t,e)},deleteGroup:function(t){this.$emit("deleteGroup",t)}},computed:{onInputTextarea:function(){return'this.style.height = "";this.style.height = this.scrollHeight + "px"'},onFocusTextarea:function(){return'this.style.height = "";this.style.height = this.scrollHeight + "px"'}},mounted:function(){},directives:{clickOutside:m.a.directive}},Ks=Ys,qs=Object(f["a"])(Ks,Lt,jt,!1,null,null,null),Vs=qs.exports,Qs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("header",{staticClass:"board-header",class:t.menuOpen},[s("div",{staticClass:"board-header-left"},[s("div",{staticClass:"board-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.boardTitle,expression:"boardTitle"}],ref:"title",style:t.inputWidth,attrs:{title:"Board title"},domProps:{value:t.boardTitle},on:{focus:function(t){return t.target.select()},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateTitle.apply(null,arguments)},blur:t.updateTitle,input:function(e){e.target.composing||(t.boardTitle=e.target.value)}}})]),s("div",{staticClass:"board-box star",attrs:{title:"Favorite"},on:{click:t.starredBoard}},[t.isStarred?s("span",[s("i",{staticClass:"fas fa-star"})]):s("span",[s("i",{staticClass:"far fa-star"})])]),s("div",{staticClass:"divider"}),s("div",{staticClass:"users-container"},t._l(t.getBoardMembers,(function(e){return s("div",{key:e._id,staticClass:"members",attrs:{title:e.fullname}},[s("span",{staticClass:"user-tag-name in-header"},[e.imgUrl?s("img",{staticClass:"image-settings",attrs:{src:e.imgUrl}}):s("span",[t._v(t._s(t.initials))])])])})),0),s("div",[s("div",{staticClass:"board-box invite",attrs:{title:"Invite to board"},on:{click:function(e){return t.setType("invite")}}},[s("span",{staticClass:"icon-sm add-member-icon"}),t._v(" Invite ")])])]),s("div",{staticClass:"board-header-right"},[s("div",{staticClass:"board-box",class:t.hideButton,attrs:{title:"Board menu"},on:{click:t.openMenu}},[t._m(0),s("span",{staticClass:"show-more"})])])]),s("show-menu",{class:t.hideMenu,attrs:{board:t.getCurrBoard},on:{updateBoard:t.updateBoard,removeBoard:t.removeBoard,closeMenu:t.closeMenu}}),t.type?s("header-dynamic",{attrs:{type:t.type,getCurrBoard:t.getCurrBoard},on:{closeModal:t.closeModal,updateBoard:t.updateBoard}}):t._e()],1)},Xs=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"group-header-edit-btn"},[s("span",{staticClass:"icon-sm menu-dots"})])}],Zs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"user-menu "},[t.type?t._e():s("div",[s("button",{staticClass:"close",on:{click:t.closeShowMenu}},[s("span",{staticClass:"menu-header-close-button"})]),t._m(0),s("div",{staticClass:"menu-content"},[t._m(1),s("div",{staticClass:"menu-box",on:{click:function(e){return t.openModal("background")}}},[s("div",[t._v("Change background")]),s("span",{staticClass:"icon-background",style:t.getBackground})]),s("div",{staticClass:"menu-box"},[s("div",{staticClass:"labels",on:{click:function(e){return t.openModal("label")}}},[s("div",[t._v("Labels")]),s("span",{staticClass:"icon-board"})])]),s("div",{staticClass:"menu-box",on:{click:function(e){t.isDeleting=!0}}},[s("div",[t._v("Close board...")])]),t.isDeleting?s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeDeleteModal,expression:"closeDeleteModal"}],staticClass:" dynamic-archive-edit card-layout nav-modal "},[s("button",{staticClass:"close",on:{click:t.closeDeleteModal}},[s("span",{staticClass:"menu-header-close-button"})]),t._m(2),s("div",{staticClass:"main-container"},[s("p",[t._v(t._s(t.deleteBoardText)+" ")]),t.isBoardCreator?s("button",{staticClass:"delete",on:{click:t.removeBoard}},[t._v("Delete")]):t._e()])]):t._e(),s("div"),t._m(3),s("div",{staticClass:"menu-box no-hover"},[s("activity-flow",{attrs:{board:t.board}})],1)])]),"label"===t.type?s("labels",{attrs:{isBoardLabels:t.isBoardLabels},on:{closeModal:t.closeShowMenu,createLabel:t.createLabel,deleteLabel:t.deleteLabel,goBack:t.goBack}}):t._e(),"background"===t.type?s("background",{attrs:{board:t.board},on:{updateBoard:t.updateBoard,goBack:t.goBack,closeShowMenu:t.closeShowMenu}}):t._e()],1)},ta=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header-layout"},[s("header",[t._v("Menu")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"menu-box"},[s("div",[s("div",[t._v("About this board")]),s("p",[t._v("Add a description to your board")])]),s("span",{staticClass:"icon-board"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("header",[s("span",[t._v("Delete Board")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"activity-container"},[s("div",{staticClass:"menu-box"},[s("div",{staticClass:"activity"},[s("div",{staticClass:"activity-bold"},[t._v("Activity")]),s("span",{staticClass:"icon-board"})])])])}],ea=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("button",{staticClass:"close",on:{click:t.closeShowMenu}},[a("span",{staticClass:"menu-header-close-button"})]),a("div",{staticClass:"header-back-button",on:{click:t.goBack}},[a("span",{staticClass:"menu-header-back-button"})]),t._m(0),a("section",{staticClass:"board-background-container"},[t.type?t._e():a("div",{staticClass:"board-background-selection"},[a("div",{staticClass:"board-background-tile",on:{click:function(e){return t.openSection("photos")}}},[t._m(1),a("div",{staticClass:"title"},[t._v("Photos")])]),a("div",{staticClass:"board-background-tile",on:{click:function(e){return t.openSection("colors")}}},[t._m(2),a("div",{staticClass:"title"},[t._v("Colors")])])]),"colors"===t.type?a("div",{staticClass:"board-background-selection-colors"},t._l(t.colors,(function(e,s){return a("div",{key:s,staticClass:"board-background-tile"},[a("div",{staticClass:"board-background-image",style:"background:"+e,on:{click:function(s){return t.setBackground(e,"color")}}})])})),0):t._e(),"photos"===t.type?a("div",{staticClass:"board-background-selection-photos"},t._l(t.photos,(function(e,r){return a("span",{key:r},[a("span",{staticClass:"img-content",on:{click:function(s){return t.setBackground(e,"photo")}}},[a("img",{attrs:{src:s("bb6e")("./"+e),title:e.by}})])])})),0):t._e()])])},sa=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header-layout"},[s("header",[t._v("Change background")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"board-background-image"},[a("img",{attrs:{src:s("b1be")}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"board-background-image"},[a("img",{attrs:{src:s("505f")}})])}],aa={props:["board"],data:function(){return{type:"",colors:["rgb(0, 121, 191)","rgb(210, 144, 52)","rgb(81, 152, 57)","rgb(176, 70, 50)","rgb(137, 96, 158)","rgb(205, 90, 145)","rgb(75, 191, 107)","rgb(0, 174, 204)","rgb(131, 140, 145)"],photos:["background-1.jpg","background-2.jpg","background-3.jpg","background-4.jpg","background-5.jpg","background-6.jpg"],currBoard:null}},created:function(){this.currBoard=JSON.parse(JSON.stringify(this.getCurrBoard))},methods:{openSection:function(t){this.type=t},goBack:function(){this.type?this.type="":this.$emit("goBack")},closeShowMenu:function(){this.$emit("closeShowMenu")},setBackground:function(t,e){var s=JSON.parse(JSON.stringify(this.getCurrBoard));"color"===e?(s.style.backgroundColor=t,s.style.backgroundUrl=""):"photo"===e&&(s.style.backgroundUrl=t,s.style.backgroundColor=""),this.$emit("updateBoard",s)}},computed:{getCurrBoard:function(){return this.$store.getters.getCurrBoard}}},ra=aa,na=Object(f["a"])(ra,ea,sa,!1,null,null,null),ia=na.exports,oa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"activity-content"},[s("div",[t.getActivities?s("div",{staticClass:"activity-content-container"},[t._l(t.getActivities,(function(e){return s("div",{key:e.id,staticClass:"activity-user-content"},[s("div",{staticClass:"activity-user-info"},[s("span",{staticClass:"user-tag-name in-header"},[e.byMember.imgUrl?s("img",{staticClass:"image-settings",attrs:{src:e.byMember.imgUrl,title:e.byMember.fullname}}):t._e()]),s("div",{staticClass:"activity-user-info-content"},[s("span",[s("strong",[t._v(" "+t._s(e.byMember.fullname)+" ")]),t._v(" "+t._s(e.txt)+" ")])])]),s("span",{staticClass:"image-container"},[e.imgUrl?s("img",{staticClass:"activity-attachment-image",attrs:{src:e.imgUrl}}):t._e()])])})),t.getComments?s("div",t._l(t.getComments,(function(e){return s("div",{key:e.id,staticClass:"activity-user-content"},[s("div",{staticClass:"activity-user-info"},[s("span",{staticClass:"user-tag-name in-header"},[s("img",{staticClass:"image-settings",attrs:{src:e.byMember.imgUrl,alt:""}})]),s("span",[s("strong",[t._v(t._s(e.byMember.fullname)+" ")])]),s("span",[t._v(t._s(e.txt))])])])})),0):t._e()],2):t._e()])])},ca=[],la={name:"activityFlow",props:["task","group","board"],methods:{},computed:{getActivities:function(){var t=this;if(!this.task)return this.getBoard.activities;var e=this.getBoard.activities.filter((function(e){return e.task.id===t.task.id}));return e},getComments:function(){return!!this.task&&this.task.comments},getBoard:function(){return this.$store.getters.getCurrBoard}}},ua=la,da=Object(f["a"])(ua,oa,ca,!1,null,null,null),pa=da.exports,ha={props:["board"],data:function(){return{type:"",isDeleting:!1,isBoardLabels:!0}},methods:{removeBoard:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$emit("removeBoard",t.board._id);case 3:t.$router.push("/workspace"),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.log("Board couldnt be removed",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()},deleteLabel:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,e.$store.dispatch({type:"deleteLabel",label:t});case 3:s.next=8;break;case 5:s.prev=5,s.t0=s["catch"](0),console.log("Error on DELETELABEL in TASKDETAILS");case 8:case"end":return s.stop()}}),s,null,[[0,5]])})))()},goBack:function(){this.type=""},openModal:function(t){this.type=t},updateBoard:function(t){this.$emit("updateBoard",t)},toggleMenu:function(){this.$emit("toggleMenu")},closeShowMenu:function(){this.type="",this.$emit("closeMenu")},closeDeleteModal:function(){this.isDeleting=!1},createLabel:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.$store.dispatch({type:"createLabel",label:t});case 2:case"end":return s.stop()}}),s)})))()}},computed:{getBackground:function(){return this.board.style.backgroundColor?{"background-color":this.board.style.backgroundColor}:{"background-image":"url(".concat(s("bb6e")("./"+this.board.style.backgroundUrl),")")}},getCurrUser:function(){return this.$store.getters.currUser},isBoardCreator:function(){var t=this.board.createdBy._id,e=this.getCurrUser._id;return t===e},deleteBoardText:function(){return this.isBoardCreator?"Are you sure? Board will be removed and you wont be able get it back":"You Are not allowed to perform this action"}},components:{background:ia,labels:we,activityFlow:pa},directives:{clickOutside:m.a.directive}},ma=ha,ga=Object(f["a"])(ma,Zs,ta,!1,null,null,null),va=ga.exports,fa={name:"boardHeader",props:["board","showMenuOpen"],data:function(){return{type:null,currUser:null,boardTitle:""}},created:function(){this.currUser=JSON.parse(JSON.stringify(this.getCurrUser)),this.boardTitle=JSON.parse(JSON.stringify(this.getCurrBoard.title))},methods:{updateBoard:function(t){this.$emit("updateBoard",t)},removeBoard:function(t){this.$emit("removeBoard",t)},updateTitle:function(){var t=this;if(this.boardTitle.match(/^\s*$/))this.boardTitle=JSON.parse(JSON.stringify(this.getCurrBoard.title));else{this.$nextTick((function(){t.$refs.title.blur()}));var e=JSON.parse(JSON.stringify(this.getCurrBoard));e.title=this.boardTitle,this.updateBoard(e)}},starredBoard:function(){var t=this.getCurrUser.starred.indexOf(this.getCurrBoard._id);t>-1?this.currUser.starred.splice(t,1):this.currUser.starred.push(this.getCurrBoard._id);var e=JSON.parse(JSON.stringify(this.currUser));this.$store.dispatch({type:"updateUser",user:e})},setType:function(t){this.type=t},closeModal:function(){this.setType("")},closeMenu:function(){this.$emit("closeMenu")},toggleMenu:function(){this.$emit("toggleMenu")},openMenu:function(){this.$emit("openMenu")}},computed:{inputWidth:function(){if(this.board.title)return{width:10*this.boardTitle.length+24+"px"}},getBoardMembers:function(){return this.$store.getters.getCurrBoard.members},getCurrUser:function(){return this.$store.getters.currUser},getCurrBoard:function(){return this.$store.getters.getCurrBoard},isStarred:function(){var t=this;if(!this.currUser.starred||!this.currUser.starred.length)return!1;var e=this.currUser.starred.find((function(e){return e===t.getCurrBoard._id}));return!!e},menuOpen:function(){return{"menu-open":this.showMenuOpen}},hideMenu:function(){return{hidden:!this.showMenuOpen,open:this.showMenuOpen}},hideButton:function(){return{hidden:this.showMenuOpen}},initials:function(){var t=this.getCurrUser.fullname.split(" ");return t=t.length>1?t.shift().charAt(0)+t.pop().charAt(0):this.getCurrUser.fullname.substring(0,2),t.toUpperCase()}},components:{headerDynamic:Z,showMenu:va},directives:{clickOutside:m.a.directive}},ka=fa,ba=Object(f["a"])(ka,Qs,Xs,!1,null,null,null),Ca=ba.exports,ya=s("34f3"),wa=s("daa8"),_a="board-watch",Ta="board-updated",xa="updated-board",Ba="",$a=Oa();function Oa(){var t=null,e={setup:function(){return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=Object(wa["a"])(Ba);case 1:case"end":return e.stop()}}),e)})))()},on:function(e,s){t.on(e,s)},off:function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t&&(s?t.off(e,s):t.removeAllListeners(e))},emit:function(e,s){t.emit(e,s)},terminate:function(){t=null}};return e}window.socketService=$a,$a.setup();var Ea={name:"boardDetails",data:function(){return{board:null,isNewGroup:!1,newGroup:{},isMiniPreview:!0,newTask:{},dropPlaceholderOptions:{className:"drop-preview",animationDuration:"150",showOnTop:!1},showMenuOpen:!1,updatingBoard:null,dndCount:0,boardUsers:[],colors:["rgb(0, 121, 191)","rgb(210, 144, 52)","rgb(81, 152, 57)","rgb(176, 70, 50)","rgb(137, 96, 158)","rgb(205, 90, 145)","rgb(75, 191, 107)","rgb(0, 174, 204)","rgb(131, 140, 145)"]}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.newGroup=Object(It["a"])({},t.$store.getters.getEmptyGroup),t.newTask=Object(It["a"])({},t.$store.getters.getEmptyTask),s=t.$route.params.boardId,e.next=6,t.$store.dispatch({type:"loadBoards"});case 6:return e.next=8,t.$store.dispatch({type:"loadAndWatchBoard",boardId:s});case 8:if(t.board=t.getCurrBoard,t.$store.dispatch({type:"addRecent",boardId:t.board._id,user:JSON.parse(JSON.stringify(t.getUser))}),t.board||t.$router.push("/"),t.board.groups){e.next=13;break}return e.abrupt("return");case 13:e.next=19;break;case 15:e.prev=15,e.t0=e["catch"](0),console.log("Couldnt create and watch board ",e.t0),t.$router.push("/workspace");case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))()},destroyed:function(){},methods:{handleIcon:function(){var t=document.getElementById("favicon");this.board.style.backgroundUrl?t.href=s("bb6e")("./".concat(this.board.style.backgroundUrl)):t.href="https://trello.com/favicon.ico"},removeBoard:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,e.$store.dispatch({type:"removeBoard",boardId:t});case 3:s.next=8;break;case 5:s.prev=5,s.t0=s["catch"](0),console.log("couldnt remove board");case 8:case"end":return s.stop()}}),s,null,[[0,5]])})))()},updateGroup:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,a=JSON.parse(JSON.stringify(t)),s.next=4,e.$store.dispatch({type:"updateGroup",group:a});case 4:s.next=9;break;case 6:s.prev=6,s.t0=s["catch"](0),console.log("couldnt update group ",s.t0);case 9:case"end":return s.stop()}}),s,null,[[0,6]])})))()},updateTask:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.$store.dispatch({type:"updateTask",task:t});case 2:case"end":return s.stop()}}),s)})))()},toggleNewGroup:function(){var t=this;this.isNewGroup=!this.isNewGroup,this.isNewGroup&&this.$nextTick((function(){t.newGroup.title="",t.$refs.list.focus()}))},miniPreview:function(){this.isMiniPreview=!this.isMiniPreview},updateBoard:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,e.$store.dispatch({type:"updateBoard",board:t});case 3:e.board=JSON.parse(JSON.stringify(e.getCurrBoard)),s.next=9;break;case 6:s.prev=6,s.t0=s["catch"](0),console.log("Couldnt update board",s.t0);case 9:case"end":return s.stop()}}),s,null,[[0,6]])})))()},addGroup:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!t.newGroup.title.match(/^\s*$/)&&t.newGroup.title.length){e.next=5;break}return t.newGroup.title="",t.$nextTick((function(){t.$refs.list.focus()})),e.abrupt("return");case 5:return s=t.newGroup,e.next=8,t.$store.dispatch({type:"addGroup",group:s});case 8:t.newGroup=Object(It["a"])({},t.$store.getters.getEmptyGroup),t.newGroup.title,e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),console.log("Couldnt add group",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()},deleteGroup:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,a=t.id,s.next=4,e.$store.dispatch({type:"removeGroup",groupId:a});case 4:s.next=8;break;case 6:s.prev=6,s.t0=s["catch"](0);case 8:case"end":return s.stop()}}),s,null,[[0,6]])})))()},addTask:function(t,e){var s=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=Object(It["a"])({},s.$store.getters.currUser),a.prev=1,a.next=4,s.$store.dispatch({type:"addTask",taskRaw:{task:t,idx:e,user:r}});case 4:s.$store.dispatch({type:"addActivity",activity:{task:t,txt:"created ".concat(t),user:s.getUser}}),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](1),console.log("Couldnt add task",a.t0);case 10:case"end":return a.stop()}}),a,null,[[1,7]])})))()},onDropGroup:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,e.$store.dispatch({type:"applyDragGroup",dropResult:t});case 3:e.board=e.getCurrBoard,s.next=9;break;case 6:s.prev=6,s.t0=s["catch"](0),console.log("Couldnt drag group",s.t0);case 9:case"end":return s.stop()}}),s,null,[[0,6]])})))()},getChildPayload:function(t,e){return this.getCurrBoard.groups[t].tasks[e]},toggleMenu:function(){this.showMenuOpen=!this.showMenuOpen},closeMenu:function(){this.showMenuOpen=!1},openMenu:function(){this.showMenuOpen=!0}},computed:{getBoardUsers:function(){return this.boardUsers},boardGroups:function(){return this.$store.getters.getCurrBoard.groups},getRandomInt:function(){return"#"+Math.floor(16777215*Math.random()).toString(16)},getCurrBoard:function(){return this.$store.getters.getCurrBoard},menuOpen:function(){return{"menu-open":this.showMenuOpen}},isLoading:function(){return this.$store.getters.isLoading},getUser:function(){return this.$store.getters.currUser},getGroup:function(){return this.$store.getters.getCurrGroup},getImgOrColor:function(){if(this.getBoard)return this.getBoard.style.backgroundColor?"background:"+this.getBoard.style.backgroundColor:"background-image:"+"url(".concat(s("bb6e")("./"+this.getBoard.style.backgroundUrl),")")}},mounted:function(){var t=this;this.$refs.list&&(this.$nextTick((function(){t.$refs.list.focus()})),this.$nextTick((function(){t.$refs.list.blur()})))},components:{groupList:Vs,boardHeader:Ca,Container:Js["Container"],Draggable:Js["Draggable"]},directives:{dragscroll:ya["a"],clickOutside:m.a.directive},watch:{"$route.params.boardId":{handler:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.board._id===t.$route.params.boardId){e.next=4;break}return e.next=3,t.$store.dispatch({type:"loadAndWatchBoard",boardId:t.$route.params.boardId});case 3:t.board=t.getCurrBoard;case 4:case"end":return e.stop()}}),e)})))()}}}},Da=Ea,Ma=Object(f["a"])(Da,Nt,Rt,!1,null,null,null),Ua=Ma.exports,Sa=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.pageOpen&&t.currTask?s("section",{staticClass:"task-details-overlay"},[s("section",{staticClass:"task-details-wrapper"},[s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closePage,expression:"closePage"}],staticClass:"task-details-container"},[s("button",{staticClass:"task-details-container-btn",on:{click:t.closePage}},[s("span",{staticClass:"icon-lg close-icon"})]),t.isTaskStyle?s("div",{staticClass:"task-background-cover",style:t.getTaskCover},[s("div",{staticClass:"window-cover-menu"},[s("div",{staticClass:"window-cover-menu-button",attrs:{title:"Card cover"},on:{click:function(e){return t.setType("cover")}}},[s("span",{staticClass:"span-settings"}),t._v(" Cover ")])])]):t._e(),s("div",{staticClass:"task-details-header"},[s("span",{staticClass:"icon-lg card-icon-cover"}),t.titleEdit?s("form",{on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveTitle.apply(null,arguments)}}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.taskTitle,expression:"taskTitle"},{name:"click-outside",rawName:"v-click-outside",value:t.saveTitle,expression:"saveTitle"}],ref:"taskTitle",staticClass:"textarea-another-list",attrs:{oninput:'this.style.height = "";this.style.height = this.scrollHeight + "px"',onfocus:'this.style.height = "";this.style.height = this.scrollHeight + "px"',maxlength:"512",placeholder:"Enter Task title..."},domProps:{value:t.taskTitle},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()},input:function(e){e.target.composing||(t.taskTitle=e.target.value)}}})]):s("div",[s("h1",{on:{click:t.editTitle}},[t._v(t._s(t.getTask.title))]),s("p",[t._v("in group "+t._s(t.getGroup.title)),s("span")])])]),s("div",{staticClass:"task-details-content-container"},[s("div",{staticClass:"task-details-main-content"},[s("div",{staticClass:"task-details-addons"},[s("task-addons",{attrs:{getTask:t.getTask,getBoard:t.getBoard,descEdit:t.descEdit},on:{updatedTask:t.updatedTask,setCover:t.setCover,saveEdit:t.saveEdit,editDesc:t.editDesc,closeDescEdit:t.closeDescEdit}})],1),t.getTaskCheckLists.length?s("div",{staticClass:"task-details-checklist"},[s("div",{staticClass:"task-details-checklist-content"},[t._m(0),t._l(t.getTask.checklists,(function(e){return s("check-list",{key:e.id,attrs:{checklist:e,currTask:t.getTask},on:{updatedTask:t.updatedTask}})}))],2)]):t._e(),s("div",{staticClass:"task-details-activity"},[t._m(1),s("span",{staticClass:"user-tag-name in-header side",attrs:{title:t.getUser.fullname}},[s("img",{staticClass:"image-settings",attrs:{src:t.getUser.imgUrl}})]),s("form",[s("div",{staticClass:"comments-container"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentTxt,expression:"commentTxt"}],attrs:{type:"text",placeholder:"Write a comment...",title:"Comment"},domProps:{value:t.commentTxt},on:{focus:t.commentsButtons,input:function(e){e.target.composing||(t.commentTxt=e.target.value)}}}),t._v(" "),t.isCommentsButton?s("div",{staticClass:"save-btn"},[s("button",{attrs:{title:"Save"},on:{click:t.sendComment}},[t._v("Save")])]):t._e()])]),s("activity-flow",{attrs:{task:t.getTask,group:t.getGroup,board:t.getBoard}})],1)]),s("div",{staticClass:"task-details-sidebar"},[s("p",{staticClass:"task-details-subtitle"},[t._v("Add to card")]),s("div",{staticClass:"task-details-add-to-card"},[t.type?s("edit-dynamic",{attrs:{type:t.type,getBoard:t.getBoard,getTask:t.getTask,getUser:t.getUser},on:{attachment:t.attachment,attachmentLink:t.attachmentLink,updateBoard:t.updateBoard,updateGroup:t.updateGroup,deleteTask:t.deleteTask,taskActivity:t.taskActivity,updateTask:t.updatedTask,closeModal:t.closeModal,createLabel:t.createLabel,deleteLabel:t.deleteLabel}}):t._e(),s("div",{staticClass:"open-edit-dynamic-btn",attrs:{title:"Members"},on:{click:function(e){return t.setType("members")}}},[s("span",{staticClass:"span-settings icon-sm member-icon"}),t._v(" Members ")]),s("div",{staticClass:"open-edit-dynamic-btn",attrs:{title:"Labels"},on:{click:function(e){return t.setType("labels")}}},[t._m(2),t._v(" Labels ")]),s("div",{staticClass:"open-edit-dynamic-btn",attrs:{title:"Checklist"},on:{click:function(e){return t.setType("checklist")}}},[t._m(3),t._v(" Checklist ")]),s("div",{staticClass:"open-edit-dynamic-btn",attrs:{title:"Dates"},on:{click:function(e){return t.setType("dates")}}},[t._m(4),t._v(" Dates ")]),s("div",{staticClass:"open-edit-dynamic-btn",attrs:{title:"Attachment"},on:{click:function(e){return t.setType("attachment")}}},[t._m(5),t._v(" Attachment ")]),t.getTask.style.bgColor?t._e():s("div",{staticClass:"open-edit-dynamic-btn",attrs:{title:"Cover"},on:{click:function(e){return t.setType("cover")}}},[t._m(6),t._v(" Cover ")])],1),s("p",{staticClass:"task-details-subtitle"},[t._v("Actions")]),s("div",{staticClass:"task-details-actions"},[s("div",{staticClass:"open-edit-dynamic-btn",attrs:{title:"Copy"},on:{click:function(e){return t.setType("copy")}}},[s("span",{staticClass:"icon-sm icon-copy"}),t._v(" Copy ")]),s("div",{staticClass:"open-edit-dynamic-btn",attrs:{title:"Archive"},on:{click:function(e){return t.setType("archive")}}},[s("span",{staticClass:"icon-sm archive-icon"}),t._v(" Archive ")])])])])])])]):t._e()},Na=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"task-checklist-symbol"},[s("span",{staticClass:"icon-lg checklist-icon"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"task-details-activity-content"},[s("span",{staticClass:"icon-lg icon-activity"}),s("p",{staticClass:"task-activity-title"},[t._v("Activity")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"span-settings"},[s("span",{staticClass:"icon-sm label-icon"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"span-settings"},[s("span",{staticClass:"icon-sm checklist-icon"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"span-settings"},[s("i",{staticClass:"far fa-clock"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"span-settings"},[s("span",{staticClass:"icon-sm attachments"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"span-settings"},[s("span",{staticClass:"icon-sm cover-icon"})])}],Ra=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"task-description"},[s("span",{staticClass:"icon-lg task-description-symbol icon-description"}),s("p",{staticClass:"task-description-title"},[t._v("Description")]),t.descEdit?s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.saveDesc,expression:"saveDesc"}],staticClass:"task-description-content"},[s("form",{on:{submit:t.saveDesc}},[s("textarea",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.saveDesc,expression:"saveDesc"},{name:"model",rawName:"v-model",value:t.updatedTask.description,expression:"updatedTask.description"}],ref:"desc",staticClass:"textarea-another-list",attrs:{oninput:'this.style.height = "";this.style.height = this.scrollHeight + "px"',onfocus:'this.style.height = "";this.style.height = this.scrollHeight + "px"',maxlength:"512",placeholder:"Add a more detailed description..."},domProps:{value:t.updatedTask.description},on:{focus:function(t){return t.target.select()},input:function(e){e.target.composing||t.$set(t.updatedTask,"description",e.target.value)}}}),t._v(" "),s("div",{staticClass:"task-description-buttons"},[s("button",{staticClass:"task-description-save",attrs:{type:"submit"}},[t._v("Save")]),s("button",{staticClass:"task-description-close",on:{click:t.clearDesc}},[s("span",{staticClass:"icon-lg close-icon"})])])])]):s("div",[s("p",{staticClass:"task-description-placeholder",on:{click:t.editDesc}},[t._v(" "+t._s(t.emptyDesc)+" ")])])])},Ia=[],La={props:["task","descEdit"],name:"taskDescription",data:function(){return{updatedTask:""}},created:function(){this.updatedTask=JSON.parse(JSON.stringify(this.task))},methods:{saveDesc:function(){var t=JSON.parse(JSON.stringify(this.task));t.description=this.updatedTask.description,this.$emit("saveEdit",t)},clearDesc:function(){this.updatedTask.description=JSON.parse(JSON.stringify(this.task.description)),this.$emit("closeDescEdit")},editDesc:function(){var t=this;this.$emit("editDesc"),this.$nextTick((function(){t.$refs.desc.focus()}))}},computed:{emptyDesc:function(){return this.updatedTask.description.match(/^\s*$/)?"Add a more detailed description...":this.updatedTask.description}},directives:{clickOutside:m.a.directive}},ja=La,Aa=Object(f["a"])(ja,Ra,Ia,!1,null,null,null),Ga=Aa.exports,Pa=function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){var s,a,r,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s="eujddzcb",a="dxkxsmmyr",r="https://api.cloudinary.com/v1_1/".concat(a,"/auto/upload"),n=new FormData,n.append("file",e.target.files[0]),n.append("upload_preset",s),t.prev=6,t.next=9,fetch(r,{method:"POST",body:n});case 9:return i=t.sent,t.next=12,i.json();case 12:return o=t.sent,t.abrupt("return",o);case 16:return t.prev=16,t.t0=t["catch"](6),t.abrupt("return",console.error(t.t0));case 19:case"end":return t.stop()}}),t,null,[[6,16]])})));return function(e){return t.apply(this,arguments)}}(),Ja=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.getTask?s("div",{staticClass:"task-addons-container"},[s("div",{staticClass:"task-addons-content-container"},[t.getTask.members.length?s("div",{staticClass:"task-addons-members"},[s("p",{staticClass:"subtitles"},[t._v("Members")]),s("div",{staticClass:"task-addons-members-info"},t._l(t.getTask.members,(function(t){return s("div",{key:t._id},[s("span",{staticClass:"user-tag-name in-header",attrs:{title:t.fullname}},[s("img",{staticClass:"image-settings",attrs:{src:t.imgUrl,title:t.fullname}})])])})),0)]):t._e()]),s("div",{staticClass:"task-addons-content-container"},[t.getLabel?s("div",{staticClass:"task-addons-labels"},[s("p",{staticClass:"subtitles"},[t._v("Labels")]),s("div",{staticClass:"task-addons-members-info"},t._l(t.getLabel,(function(e){return s("div",{key:e.id,staticClass:"task-addons-labels-cards"},[s("div",{style:"background-color:"+e.color,attrs:{title:e.title}},[e.title?s("span",[t._v(t._s(e.title))]):t._e()])])})),0)]):t._e()]),s("div",{staticClass:"task-addons-content-container"},[t.dueDate||t.startDate?s("div",{staticClass:"task-addons-dates"},[s("p",{staticClass:"subtitles"},[t._v("Dates")]),s("p"),s("div",{staticClass:"task-addons-dates-cards"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.isDone,expression:"isDone"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isDone)?t._i(t.isDone,null)>-1:t.isDone},on:{change:[function(e){var s=t.isDone,a=e.target,r=!!a.checked;if(Array.isArray(s)){var n=null,i=t._i(s,n);a.checked?i<0&&(t.isDone=s.concat([n])):i>-1&&(t.isDone=s.slice(0,i).concat(s.slice(i+1)))}else t.isDone=r},t.saveIsDone]}}),s("div",{staticClass:"dates-preview",attrs:{title:"Date"}},[t.startDate?s("span",[t._v(t._s(t.startDate)+" ")]):t._e(),t.dueDate?s("span",[t._v(" "+t._s(t.dueDate))]):t._e(),t.getTask.dates.isDone?s("span",{staticClass:"task-due-completed"},[t._v(" complete")]):t._e()])])]):t._e()]),s("task-description",{attrs:{task:t.getTask,descEdit:t.descEdit,title:"Description"},on:{saveEdit:t.saveEdit,editDesc:t.editDesc,closeDescEdit:t.closeDescEdit}}),t.getTaskAttachments.length?s("div",{staticClass:"task-addons-attachment-container"},[s("div",[t._m(0),t._l(t.getTaskAttachments,(function(e){return s("div",{key:e.id,staticClass:"att-content"},[s("img",{attrs:{src:e.imgUrl,title:e.txt}}),s("div",{staticClass:"att-info"},[s("div",{staticClass:"att-content-info"},[s("p",{staticClass:"att-title"},[t._v(t._s(e.txt))]),s("p",{staticClass:"att-date"},[t._v(t._s(t.attDate(e.createdAt)))])]),s("div",{staticClass:"make-cover-btn-container"},[s("span",{staticClass:"icon-sm cover-icon"}),s("button",{staticClass:"make-cover-btn",attrs:{title:"Set/Remove cover"},on:{click:function(s){return t.setCover(e.imgUrl)}}},[t._v(t._s(t.isCoverImage(e.imgUrl)))])])])])}))],2)]):t._e()],1):t._e()},Fa=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"task-addons-att-title-container"},[s("span",{staticClass:"icon-lg attachments att-symbol-settings"}),s("p",{staticClass:"task-addons-att-title"},[t._v("Attachments")])])}],Ha={name:"taskAddons",props:["getTask","getBoard","descEdit"],data:function(){return{isDone:!1}},created:function(){this.isDone=this.getTask.dates.isDone},methods:{saveIsDone:function(){var t=JSON.parse(JSON.stringify(this.getTask));t.dates.isDone=this.isDone,t.dates.isDone=this.isDone,this.$emit("updatedTask",t)},saveEdit:function(t){this.$emit("saveEdit",t)},editDesc:function(){this.$emit("editDesc")},closeDescEdit:function(){this.$emit("closeDescEdit")},setCover:function(t){"Remove cover"===this.isCoverImage(t)?this.$emit("setCover",""):this.$emit("setCover",t)},isCoverImage:function(t){return this.getTask.style.imgUrl===t?"Remove cover":"Make cover"},attDate:function(t){var e=new Date(t);if(t){var s=e.toLocaleString("en-us",{month:"short"}),a=e.getDate(),r=e.getFullYear(),n="".concat(s,"  ").concat(a,", ").concat(r);return n}}},computed:{getLabel:function(){var t=this,e=[];return this.getTask.labelIds&&this.getTask.labelIds.length?(this.getBoard.labels.forEach((function(s){var a=t.getTask.labelIds.some((function(t){return s.id===t}));a&&e.push(s)})),e):null},getDates:function(){return this.getTask.dates},startDate:function(){var t=new Date(this.getDates.startDate);if(this.getDates.startDate&&this.getDates.dueDate!==this.getDates.startDate){var e=t.toLocaleString("en-us",{month:"short"}),s=t.getDate(),a="".concat(e," ").concat(s," - ");return a}},dueDate:function(){var t=new Date(this.getDates.dueDate);if(this.getDates.dueDate){var e=t.toLocaleString("en-us",{month:"short"}),s=t.getDate(),a=t.getFullYear(),r="".concat(e,"  ").concat(s,", ").concat(a);return r}},getTaskAttachments:function(){var t=this,e=[];return this.$store.getters.getCurrBoard.attachments.forEach((function(s){s.task.id===t.getTask.id&&e.push(s)})),e}},components:{taskDescription:Ga}},Wa=Ha,za=Object(f["a"])(Wa,Ja,Fa,!1,null,null,null),Ya=za.exports,Ka=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"task-checklist"},[t.isEditing?s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeChecklist,expression:"closeChecklist"}],staticClass:"task-checklist-content"},[s("form",[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.currChecklist.title,expression:"currChecklist.title"}],ref:"title",staticClass:"textarea-another-list",attrs:{maxlength:"512",placeholder:"Checklist"},domProps:{value:t.currChecklist.title},on:{input:function(e){e.target.composing||t.$set(t.currChecklist,"title",e.target.value)}}}),t._v(" "),s("div",{staticClass:"task-checklist-btns"},[s("button",{staticClass:"task-checklist-save",attrs:{type:"submit"},on:{click:function(e){return t.saveChecklist(t.currChecklist)}}},[t._v(" Save ")]),s("button",{staticClass:"task-checklist-close"},[s("span",{staticClass:"icon-lg close-icon",on:{click:t.closeChecklist}})])])])]):s("div",{staticClass:"checklist-title"},[s("p",{staticClass:"task-checklist-placeholder",on:{click:t.editTitle}},[t._v(" "+t._s(t.checklistTitle)+" ")]),s("button",{staticClass:"open-edit-dynamic-btn remove",on:{click:t.removeCheckList}},[t._v(" Delete ")])]),s("div",{staticClass:"checklist-progress"},[s("span",{staticClass:"checklist-progress-percentage"},[t._v(t._s(t.percentageForDisplay))]),s("div",{staticClass:"checklist-progress-bar"},[s("div",{class:["progress-bar",t.completedBar],style:"width:"+t.percentageForDisplay})])]),t.isChecklistTodos?s("div",t._l(t.checklistTodos,(function(e){return s("div",{key:e.id,staticClass:"checklist-todos"},[s("todo-preview",{staticClass:"todo-preview-container",attrs:{checklist:t.checklist,todo:e},on:{updatedChecklist:t.saveChecklist}})],1)})),0):t._e(),t.isAddTodo?s("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeAddTodo,expression:"closeAddTodo"}]},[s("form",[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newTodo.title,expression:"newTodo.title"}],staticClass:"textarea-another-list",attrs:{maxlength:"512",placeholder:"Add an item"},domProps:{value:t.newTodo.title},on:{input:function(e){e.target.composing||t.$set(t.newTodo,"title",e.target.value)}}}),t._v(" "),s("div",{staticClass:"task-checklist-btns"},[s("button",{staticClass:"task-checklist-save",attrs:{type:"submit"},on:{click:t.addTodo}},[t._v(" Add ")]),s("button",{staticClass:"task-checklist-close"},[s("span",{staticClass:"icon-lg close-icon",on:{click:t.closeAddTodo}})])])])]):s("div",{staticClass:"task-checklist-btns"},[s("button",{staticClass:"open-edit-dynamic-btn",on:{click:t.openAddTodo}},[t._v(" Add an item ")])])])},qa=[],Va=(s("b680"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("span",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.isChecked,expression:"isChecked"}],staticClass:"box-input",class:{checked:t.isChecked},attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isChecked)?t._i(t.isChecked,null)>-1:t.isChecked},on:{click:t.toggleCheck,change:function(e){var s=t.isChecked,a=e.target,r=!!a.checked;if(Array.isArray(s)){var n=null,i=t._i(s,n);a.checked?i<0&&(t.isChecked=s.concat([n])):i>-1&&(t.isChecked=s.slice(0,i).concat(s.slice(i+1)))}else t.isChecked=r}}})]),s("span",{staticClass:"task-todo-minus-btn minus"}),t.todoEdit?s("form",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeEditTodo,expression:"closeEditTodo"}],staticClass:"todos-form"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.currTodo.title,expression:"currTodo.title"}],ref:"subtitle",staticClass:"textarea-another-list",domProps:{value:t.currTodo.title},on:{input:function(e){e.target.composing||t.$set(t.currTodo,"title",e.target.value)}}}),s("div",{staticClass:"task-checklist-btns"},[s("button",{staticClass:"task-checklist-save",attrs:{type:"submit"},on:{click:t.saveTodo}},[t._v(" Save ")]),s("button",{staticClass:"task-checklist-close"},[s("span",{staticClass:"icon-lg close-icon",on:{click:t.closeEditTodo}})])])]):s("span",{staticClass:"todoTitle",class:{clear:t.isChecked},on:{click:t.openEditTodo}},[t._v(t._s(t.todoTitle))])])}),Qa=[],Xa={props:["todo","checklist"],name:"todoList",data:function(){return{todoEdit:!1,currTodo:{},isChecked:!1}},created:function(){this.currTodo=JSON.parse(JSON.stringify(this.todo)),this.isChecked=this.currTodo.isDone},methods:{toggleCheck:function(){this.isChecked=!this.isChecked,this.currTodo.isDone=this.isChecked,this.saveTodo()},openEditTodo:function(){var t=this;this.currTodo=JSON.parse(JSON.stringify(this.todo)),this.todoEdit=!0,this.$nextTick((function(){t.$refs.subtitle.focus(),t.$refs.subtitle.select()}))},closeEditTodo:function(){this.todoEdit=!1},saveTodo:function(){var t=this;if(!this.currTodo.title.match(/^\s*$/)){var e=JSON.parse(JSON.stringify(this.checklist)),s=e.todos.findIndex((function(e){return t.currTodo.id===e.id}));e.todos[s].title=this.currTodo.title,e.todos[s].isDone=this.currTodo.isDone,this.$emit("updatedChecklist",e),this.todoEdit=!1}}},computed:{todoTitle:function(){return this.todo.title}},directives:{clickOutside:m.a.directive}},Za=Xa,tr=Object(f["a"])(Za,Va,Qa,!1,null,null,null),er=tr.exports,sr={props:["currTask","checklist"],name:"taskChecklist",data:function(){return{isAddTodo:!1,isEditing:!1,currTodo:{},currentTask:{},currChecklist:{},newTodo:{id:"",title:"",isDone:!1}}},created:function(){this.currentTask=JSON.parse(JSON.stringify(this.currTask)),this.currChecklist=JSON.parse(JSON.stringify(this.checklist))},methods:{addTodo:function(){this.newTodo.title.match(/^\s*$/)||(this.currChecklist=JSON.parse(JSON.stringify(this.checklist)),this.newTodo.id=yt.makeId(),this.currChecklist.todos.push(this.newTodo),this.saveChecklist(this.currChecklist),this.newTodo={id:"",title:"",isDone:!1},this.isAddTodo=!1)},openAddTodo:function(){this.isAddTodo=!0},editTitle:function(){var t=this;this.isEditing=!0,this.$nextTick((function(){t.$refs.title.focus(),t.$refs.title.select()}))},removeCheckList:function(){var t=this,e=this.currentTask.checklists.findIndex((function(e){return e.id===t.checklist.id}));this.currentTask=JSON.parse(JSON.stringify(this.currTask)),this.currentTask.checklists.splice(e,1),this.$emit("updatedTask",this.currentTask)},saveChecklist:function(t){if(!this.checklist.title.match(/^\s*$/)){this.currentTask=JSON.parse(JSON.stringify(this.currTask)),this.isEditing=!1;var e=this.currentTask.checklists.findIndex((function(e){return e.id===t.id}));e>-1?this.currentTask.checklists[e]=t:this.currentTask.checklists.push(t),this.$emit("updatedTask",this.currentTask)}},closeAddTodo:function(){this.isAddTodo=!1},closeChecklist:function(){this.isEditing=!1,this.currChecklist=JSON.parse(JSON.stringify(this.checklist))}},computed:{percentageForDisplay:function(){var t=this.checklist.todos.reduce((function(t,e){return e.isDone&&t++,t}),0);return t?(100*t/this.checklist.todos.length).toFixed(0)+"%":"0%"},completedBar:function(){if("100%"===this.percentageForDisplay)return"complete"},checklistTitle:function(){return this.currChecklist.title},isChecklistTodos:function(){return this.currChecklist.todos&&this.currChecklist.todos.length},checklistTodos:function(){return this.checklist.todos}},directives:{clickOutside:m.a.directive},components:{todoPreview:er}},ar=sr,rr=Object(f["a"])(ar,Ka,qa,!1,null,null,null),nr=rr.exports,ir={name:"taskDetails",data:function(){return{pageOpen:null,type:"",currTask:{},taskTitle:"",titleEdit:!1,descEdit:!1,commentTxt:"",isCommentsButton:!1}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,s=t.$route.params.groupId,a=t.$route.params.taskId,r=t.$route.params.boardId,e.next=6,t.$store.dispatch({type:"updateStore",boardId:r,taskId:a,groupId:s});case 6:t.currTask=JSON.parse(JSON.stringify(t.getTask)),t.taskTitle=t.currTask.title,t.pageOpen=!0,e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.log("Couldnt load task",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},methods:{commentsButtons:function(){this.isCommentsButton=!0},commentButtonsOff:function(){var t=this;this.$nextTick((function(){t.isCommentsButton=!1}))},setCover:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=JSON.parse(JSON.stringify(e.getTask)),a.style.imgUrl=t,a.style.bgColor="",s.next=5,e.$store.dispatch({type:"updateTask",task:a});case 5:case"end":return s.stop()}}),s)})))()},sendComment:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.commentTxt.match(/^\s*$/)){e.next=2;break}return e.abrupt("return");case 2:return t.isCommentsButton=!1,s=t.getUser,a={txt:t.commentTxt,createdAt:Date.now(),byMember:s},t.$store.commit({type:"setComment",comment:a}),e.next=8,t.$store.dispatch({type:"updateTask",task:t.getTask});case 8:t.commentTxt="";case 9:case"end":return e.stop()}}),e)})))()},editTitle:function(){var t=this;this.titleEdit=!0,this.descEdit=!1,this.$nextTick((function(){t.$refs.taskTitle.focus()}))},saveTitle:function(){this.currTask.title=this.taskTitle,this.saveTask()},editDesc:function(){this.descEdit=!0,this.titleEdit=!1},closeDescEdit:function(){this.descEdit=!1},closeModal:function(){this.type=""},saveTask:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!t.taskTitle.match(/^\s*$/)){e.next=5;break}return t.taskTitle=t.currTask.title,t.titleEdit=!1,e.abrupt("return");case 5:return t.titleEdit=!1,e.next=8,t.updatedTask(t.currTask);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log("Couldnt SAVE TASK TITLE",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},createLabel:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,e.$store.dispatch({type:"createLabel",label:t});case 3:s.next=8;break;case 5:s.prev=5,s.t0=s["catch"](0),console.log("Error on CREATELABEL in TASKDETAILS",s.t0);case 8:case"end":return s.stop()}}),s,null,[[0,5]])})))()},deleteLabel:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,e.$store.dispatch({type:"deleteLabel",label:t});case 3:s.next=8;break;case 5:s.prev=5,s.t0=s["catch"](0),console.log("Error on DELETELABEL in TASKDETAILS");case 8:case"end":return s.stop()}}),s,null,[[0,5]])})))()},saveEdit:function(){var t=arguments,e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(a=t.length>0&&void 0!==t[0]?t[0]:Object(It["a"])({},e.getTask),s.prev=1,e.editDesc){s.next=4;break}return s.abrupt("return");case 4:return e.descEdit=!1,s.next=7,e.updatedTask(Object(It["a"])({},a));case 7:e.currTask=Object(It["a"])({},e.getTask),s.next=13;break;case 10:s.prev=10,s.t0=s["catch"](1),console.log("CANT SAVE EDIT",s.t0);case 13:case"end":return s.stop()}}),s,null,[[1,10]])})))()},setType:function(t){this.type=t},deleteTask:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.$store.dispatch({type:"removeTask",task:t});case 2:e.closePage();case 3:case"end":return s.stop()}}),s)})))()},closePage:function(){this.$router.push("/b/".concat(this.$route.params.boardId))},updatedTask:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=JSON.parse(JSON.stringify(t)),r=e.getGroup,n=r.tasks.findIndex((function(t){return t.id===a.id})),r.tasks[n]=a,s.next=6,e.$store.dispatch({type:"updateTask",task:a});case 6:return s.next=8,e.$store.dispatch({type:"updateGroup",group:r});case 8:case"end":return s.stop()}}),s)})))()},attachmentLink:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:a="attached ".concat(t," to this card"),e.taskActivity(a);case 2:case"end":return s.stop()}}),s)})))()},taskActivity:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:try{a=e.getTask,r=e.getUser,e.$store.dispatch({type:"addActivity",activity:{task:a,txt:t,user:r}})}catch(n){console.log("Failed on TASKACTIVITY in TASKDETAILS",n)}case 1:case"end":return s.stop()}}),s)})))()},updateBoard:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.$store.dispatch({type:"updateBoard",board:t});case 2:case"end":return s.stop()}}),s)})))()},updateGroup:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.$store.dispatch({type:"updateGroup",group:t});case 2:case"end":return s.stop()}}),s)})))()},attachment:function(t,e){var s=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Pa(t);case 3:r=a.sent,s.$store.dispatch({type:"addAttachment",attachment:{txt:"".concat(r.original_filename,".").concat(r.format),res:r,task:{id:e.id,title:e.title}}}),n="attached ".concat(r.original_filename,".").concat(r.format," to this card"),i=s.getUser,s.$store.dispatch({type:"addActivity",activity:{res:r,task:e,txt:n,user:i}}),a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](0),console.log("Failed on ATTACHMENT in TASK DETAILS",a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})))()}},computed:{getTask:function(){return this.$store.getters.getCurrTask},getGroup:function(){return this.$store.getters.getCurrGroup},getBoard:function(){return this.$store.getters.getCurrBoard},getUser:function(){return this.$store.getters.currUser},getTaskCheckLists:function(){return this.$store.getters.getCurrTask.checklists},getTaskCover:function(){return this.getTask.style.bgColor?{"background-color":this.getTask.style.bgColor}:this.getTask.style.imgUrl?{"background-image":"url("+this.getTask.style.imgUrl+")"}:void 0},isTaskStyle:function(){return this.getTask.style.bgColor||this.getTask.style.imgUrl}},components:{taskDescription:Ga,activityFlow:pa,editDynamic:$s,taskAddons:Ya,checkList:nr},directives:{clickOutside:m.a.directive}},or=ir,cr=Object(f["a"])(or,Sa,Na,!1,null,null,null),lr=cr.exports,ur=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-signup-container"},[t._m(0),s("div",{staticClass:"forms-sections"},[s("section",{directives:[{name:"show",rawName:"v-show",value:t.isSignup,expression:"isSignup"}],staticClass:"signup-form"},[s("h1",[t._v("Sign up for your account")]),s("form",{on:{submit:function(e){return e.preventDefault(),t.doSignup.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.username,expression:"signupCred.username"}],attrs:{placeholder:"Username",minlength:"3",clearable:""},domProps:{value:t.signupCred.username},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"username",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.fullname,expression:"signupCred.fullname"}],attrs:{type:"text",placeholder:"Fullname",minlength:"3",clearable:""},domProps:{value:t.signupCred.fullname},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"fullname",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.password,expression:"signupCred.password"}],attrs:{placeholder:"Password",type:"password",minlength:"5","show-password":""},domProps:{value:t.signupCred.password},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"password",e.target.value)}}}),t._m(1),s("button",{class:["signup-btn",t.isEnabled]},[t._v("Signup")])]),s("div",{staticClass:"line-divider"}),s("div",{staticClass:"login-switch"},[s("div",[s("div",{staticClass:"error-msg"},[t._v(" "+t._s(t.msg)+" ")]),s("button",{on:{click:t.showSignup}},[t._v(t._s(t.loginSignup))]),s("div",[t.loggedinUser?s("button",{on:{click:t.doLogout}},[t._v("Logout")]):t._e()])])])]),s("section",{directives:[{name:"show",rawName:"v-show",value:!t.isSignup&&!t.loggedinUser,expression:"!isSignup && !loggedinUser"}],staticClass:"signup-form"},[s("h1",[t._v("Log in to Digitask")]),s("form",{on:{submit:function(e){return e.preventDefault(),t.doLogin.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.loginCred.username,expression:"loginCred.username"}],attrs:{placeholder:"Username",minlength:"3",clearable:""},domProps:{value:t.loginCred.username},on:{input:function(e){e.target.composing||t.$set(t.loginCred,"username",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.loginCred.password,expression:"loginCred.password"}],attrs:{placeholder:"Password",type:"password",minlength:"5"},domProps:{value:t.loginCred.password},on:{input:function(e){e.target.composing||t.$set(t.loginCred,"password",e.target.value)}}}),t._m(2),s("button",{staticClass:"login-btn"},[t._v("Login")])]),s("div",{staticClass:"line-divider"}),s("div",{staticClass:"login-switch"},[s("div",[s("div",{staticClass:"error-msg"},[t._v(" "+t._s(t.msg)+" ")]),s("button",{on:{click:t.showSignup}},[t._v(t._s(t.loginSignup))]),s("div",[t.loggedinUser?s("button",{on:{click:t.doLogout}},[t._v("Logout")]):t._e()])])])])])])},dr=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",[s("div",{staticClass:"homepage-logo"},[s("span",{staticClass:"trello-logo"},[s("i",{staticClass:"fab fa-trello"})]),s("div",{staticClass:"logo main-header-tabs"}),s("span",{staticClass:"app-title"},[t._v("DigiTask")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"terms"},[t._v(" By signing up, you confirm that you've read and accepted our "),s("span",[t._v("Terms of Service")]),t._v(" and "),s("span",[t._v("Privacy Policy.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"terms"},[t._v(" By signing up, you confirm that you've read and accepted our "),s("span",[t._v("Terms of Service")]),t._v(" and "),s("span",[t._v("Privacy Policy.")])])}],pr={name:"loginSignup",data:function(){return{loginCred:{username:"",password:null},signupCred:{username:"",fullname:"",password:null,imgUrl:"",mentions:[],starred:[],recentBoards:[]},isSignup:!0,msg:""}},created:function(){this.$route.params.login&&(this.isSignup=!1)},methods:{showSignup:function(){this.isSignup=!this.isSignup},doLogin:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.loginCred.username){e.next=3;break}return t.msg="Please enter username/password",e.abrupt("return");case 3:return e.prev=3,e.next=6,t.$store.dispatch({type:"login",userCred:t.loginCred});case 6:t.$router.push("/workspace"),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](3),console.log(e.t0),t.msg="Failed to login";case 13:case"end":return e.stop()}}),e,null,[[3,9]])})))()},doSignup:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.signupCred.password&&t.signupCred.username){e.next=3;break}return t.msg="Please fill up the form",e.abrupt("return");case 3:return e.next=5,t.$store.dispatch({type:"signup",userCred:t.signupCred});case 5:t.$router.push("/workspace");case 6:case"end":return e.stop()}}),e)})))()},doLogout:function(){this.$store.dispatch({type:"logout"})}},computed:{loggedinUser:function(){return this.$store.getters.currUser},loginSignup:function(){return this.isSignup?"Already existing user?":"Register a new Account"},isEnabled:function(){return{enable:this.signupCred.username.length>3&&this.signupCred.fullname.length>3&&this.signupCred.password.length>3}}}},hr=pr,mr=Object(f["a"])(hr,ur,dr,!1,null,null,null),gr=mr.exports;a["a"].use(gt["a"]);var vr=[{path:"/",name:"home",component:$t},{path:"/workspace",name:"digiApp",component:St},{path:"/b/:boardId",name:"boardDetails",component:Ua,children:[{path:"g/:groupId/t/:taskId",name:"taskDetails",component:lr}]},{path:"/signup/:login?",name:"loginSignup",component:gr}],fr=new gt["a"]({routes:vr}),kr=fr,br=s("2f62"),Cr=s("bc3a"),yr=s.n(Cr),wr="/api/",_r=yr.a.create({withCredentials:!0}),Tr={get:function(t,e){return xr(t,"GET",e)},post:function(t,e){return xr(t,"POST",e)},put:function(t,e){return xr(t,"PUT",e)},delete:function(t,e){return xr(t,"DELETE",e)}};function xr(t){return Br.apply(this,arguments)}function Br(){return Br=Object(i["a"])(regeneratorRuntime.mark((function t(e){var s,a,r,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=n.length>1&&void 0!==n[1]?n[1]:"GET",a=n.length>2&&void 0!==n[2]?n[2]:null,t.prev=2,t.next=5,_r({url:"".concat(wr).concat(e),method:s,data:a,params:"GET"===s?a:null});case 5:return r=t.sent,t.abrupt("return",r.data);case 9:throw t.prev=9,t.t0=t["catch"](2),console.log("Had Issues ".concat(s,"ing to the backend, endpoint: ").concat(e,", with data:"),a),console.dir(t.t0),t.t0.response&&401===t.t0.response.status&&(void 0).push("/login"),t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,9]])}))),Br.apply(this,arguments)}s("d81d");var $r={query:Or,get:Er,post:Dr,put:Mr,remove:Ur};function Or(t){var e=JSON.parse(localStorage.getItem(t))||[];return Promise.resolve(e)}function Er(t,e){return Or(t).then((function(t){return t.find((function(t){return t._id===e}))}))}function Dr(t,e){return console.log("entityType",t,"newEntity",e),e._id=Nr(),Or(t).then((function(s){return s.push(e),Sr(t,s),e}))}function Mr(t,e){return Or(t).then((function(s){var a=s.findIndex((function(t){return t._id===e._id}));return s.splice(a,1,e),Sr(t,s),e}))}function Ur(t,e){return Or(t).then((function(s){var a=s.findIndex((function(t){return t._id===e}));s.splice(a,1),Sr(t,s)}))}function Sr(t,e){localStorage.setItem(t,JSON.stringify(e))}function Nr(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<t;a++)e+=s.charAt(Math.floor(Math.random()*s.length));return e}var Rr={add:Hr,query:jr,remove:Jr,update:zr,getBoardById:Gr,getEmptyGroup:qr,getEmptyTask:Kr,getEmptyActivity:Qr,getEmptyLabel:Vr,getEmptyBoard:Zr,getEmptyAttachment:Xr};function Ir(){return Lr.apply(this,arguments)}function Lr(){return Lr=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,jr();case 3:e=t.sent,e.length&&e||tn(),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log("loadedBoard");case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),Lr.apply(this,arguments)}function jr(){return Ar.apply(this,arguments)}function Ar(){return Ar=Object(i["a"])(regeneratorRuntime.mark((function t(){var e=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.length>0&&void 0!==e[0]?e[0]:null,t.prev=1,t.next=4,Tr.get("board");case 4:return t.abrupt("return",t.sent);case 7:t.prev=7,t.t0=t["catch"](1),console.log("Had error on boardServices: QUERY",t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])}))),Ar.apply(this,arguments)}function Gr(t){return Pr.apply(this,arguments)}function Pr(){return Pr=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Tr.get("board/".concat(e));case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t["catch"](0),console.log("Could'nt get board by id ",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))),Pr.apply(this,arguments)}function Jr(t){return Fr.apply(this,arguments)}function Fr(){return Fr=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.abrupt("return",Tr.delete("board/".concat(e)));case 4:t.prev=4,t.t0=t["catch"](0),console.log("Had error on boardServices: REMOVE",t.t0);case 7:case"end":return t.stop()}}),t,null,[[0,4]])}))),Fr.apply(this,arguments)}function Hr(t){return Wr.apply(this,arguments)}function Wr(){return Wr=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Tr.post("board",e);case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t["catch"](0),console.log("Had error on boardServices: ADD",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))),Wr.apply(this,arguments)}function zr(t){return Yr.apply(this,arguments)}function Yr(){return Yr=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Tr.put("board/".concat(e._id),e);case 3:return t.abrupt("return",t.sent);case 8:t.prev=8,t.t0=t["catch"](0),console.log("Had error on boardServices: UPDATE",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),Yr.apply(this,arguments)}function Kr(){var t={id:"t"+yt.makeId(),title:"",description:"",byMember:[],members:[],labelIds:[],checklists:[],dates:{startDate:"",dueDate:"",isDone:!1},style:{bgColor:"",isInfo:!0,imgUrl:""}};return t}function qr(){var t={id:"g"+yt.makeId(),title:"",tasks:[]};return t}function Vr(){var t={id:"l"+yt.makeId(),title:"",color:""};return t}function Qr(){var t={id:"a"+yt.makeId(),txt:"",imgUrl:"",createdAt:Date.now(),byMember:{_id:"",fullname:"",imgUrl:""},task:{id:"",title:""}};return t}function Xr(){var t={id:"at"+yt.makeId(),txt:"",imgUrl:"",createdAt:Date.now(),task:{id:"",title:""}};return t}function Zr(){var t={title:"",createdAt:Date.now(),createdBy:{},style:{backgroundColor:"",backgroundUrl:""},labels:[],members:[],groups:[],activities:[],attachments:[]};return t}function tn(){var t={_id:"b101",title:"Beny's Birthday Party!",createdAt:1589983468418,createdBy:{_id:"u101",fullname:"Abi Abambi",imgUrl:"http://some-img"},style:{backgroundColor:"#61bd4f",backgroundUrl:""},labels:[{id:"l101",title:"Done",color:"#61bd4f"}],members:[{_id:"u101",fullname:"Ilya Shershniov",imgUrl:"https://icatcare.org/app/uploads/2018/07/Helping-your-new-cat-or-kitten-settle-in-1.png"},{_id:"u102",fullname:"Daniel Radia",imgUrl:"https://th-thumbnailer.cdn-si-edu.com/bZAar59Bdm95b057iESytYmmAjI=/1400x1050/filters:focal(594x274:595x275)/https://tf-cmsv2-smithsonianmag-media.s3.amazonaws.com/filer/95/db/95db799b-fddf-4fde-91f3-77024442b92d/egypt_kitty_social.jpg"},{_id:"u103",fullname:"Beny Kursalin",imgUrl:"https://www.artmajeur.com/medias/standard/f/r/franc-kaiser/artwork/14103527_7785cbcf-a4a7-430b-b3e5-9031527bcfb2.jpg"}],groups:[{id:"g101",title:"Group 1",tasks:[{id:"c101",title:"Replace logo",description:"",byMember:[],members:[],comments:[],labelIds:[],checklists:[],dates:{startDate:"",dueDate:"",isDone:!1},style:{bgColor:"",isInfo:!0}},{id:"c102",title:"Add Samples",description:"",byMember:[],members:[],comments:[],labelIds:[],checklists:[],dates:{startDate:"",dueDate:"",isDone:!1},style:{bgColor:"",isInfo:!0}}],style:{}},{id:"g102",title:"Group 2",tasks:[{id:"c103",title:"Do that",description:"",byMember:[],members:[],comments:[],labelIds:[],checklists:[],dates:{startDate:"",dueDate:"",isDone:!1},style:{bgColor:"",isInfo:!0}},{id:"c104",title:"Help me",description:"description",comments:[{id:"ZdPnm",txt:"also @yaronb please CR this",createdAt:1590999817436,byMember:{_id:"u101",fullname:"Tal Tarablus",imgUrl:"http://res.cloudinary.com/shaishar9/image/upload/v1590850482/j1glw3c9jsoz2py0miol.jpg"}},{id:"ZdPnmm2",txt:"beny fix digiTask pls",createdAt:1590999917436,byMember:{_id:"u101",fullname:"Tal Tarablus",imgUrl:"http://res.cloudinary.com/shaishar9/image/upload/v1590850482/j1glw3c9jsoz2py0miol.jpg"}}],checklists:[{id:"YEhmF",title:"Checklist",todos:[{id:"212jX",title:"To Do 1",isDone:!1}]}],members:[{_id:"u101",username:"Tal",fullname:"Tal Tarablus",imgUrl:"http://res.cloudinary.com/shaishar9/image/upload/v1590850482/j1glw3c9jsoz2py0miol.jpg"}],labelIds:["l101","l102"],createdAt:1590999730348,dates:{startDate:"2021-12-13",dueDate:"2021-12-21",isDone:!1},byMember:{_id:"u101",username:"Tal",fullname:"Tal Tarablus",imgUrl:"http://res.cloudinary.com/shaishar9/image/upload/v1590850482/j1glw3c9jsoz2py0miol.jpg"},style:{bgColor:"",isInfo:!0}}],style:{}}],activities:[{id:"a101",txt:"changed the color",createdAt:154514,byMember:{_id:"u101",fullname:"Abi Abambi",imgUrl:"http://some-img"},task:{id:"c101",title:"Replace Logo"}}]};$r.post("boards",t)}Ir();var en={strict:!0,state:{currBoard:null,boards:[],currTask:{},currGroup:{},filterBy:{keyWord:"",members:[],dueDate:null,labels:[]},isLoading:!1,newGroup:{},newTask:{},newChecklist:{},newTodo:{}},getters:{isLoading:function(t){var e=t.isLoading;return e},getEmptyTodo:function(t){var e=t.newTodo;return e},getEmptyTask:function(t){var e=t.newTask;return e},getEmptyGroup:function(t){var e=t.newGroup;return e},getCurrTask:function(t){var e=t.currTask;return e},getCurrGroup:function(t){var e=t.currGroup;return e},getCurrBoard:function(t){var e=t.currBoard;return e},boards:function(t){var e=t.boards;return e}},mutations:{setComment:function(t,e){var s=e.comment;s.id=yt.makeId(),t.currTask.comments&&t.currTask.comments.length||(t.currTask.comments=[]),t.currTask.comments.push(s)},setLoadingOn:function(t){t.isLoading=!0},setLoadingOff:function(t){t.isLoading=!1},setBoards:function(t,e){var s=e.boards;t.boards=s},setCurrBoard:function(t,e){var s=e.board;t.currBoard=s},setTask:function(t,e){var s=e.task;t.currTask=s},updateBoard:function(t,e){var s=e.board;s._id===t.currBoard._id&&(t.currBoard=s,t.currBoard.groups.length&&t.currBoard.groups.forEach((function(e){e.id===t.currGroup.id&&(t.currGroup=e)})),t.currGroup.tasks&&t.currTask&&t.currGroup.tasks.forEach((function(e){e.id===t.currTask.id&&(t.currTask=e)})))},removeBoard:function(t,e){var s=e.boardId,a=t.boards.findIndex((function(t){return t._Id===s}));t.boards.splice(a,1)},addGroup:function(t,e){var s=e.group,a=Rr.getEmptyGroup();a.title=s.title,t.currBoard.groups.push(a),this.newGroup=Rr.getEmptyGroup()},createBoard:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,n,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=e.board,r=e.user,s.prev=1,n=Rr.getEmptyBoard(),n.createdBy=r,n.title=a.title,a.imgUrl?n.style.backgroundUrl=a.imgUrl:a.background?n.style.backgroundColor=a.background:n.style.backgroundColor="rgb(0, 121, 191)",s.next=8,Rr.add(n);case 8:i=s.sent,t.boards.length||(t.boards=[]),t.boards.push(i),s.next=16;break;case 13:s.prev=13,s.t0=s["catch"](1),console.log("Couldnt create board",s.t0);case 16:case"end":return s.stop()}}),s,null,[[1,13]])})))()},addActivity:function(t,e){var s=e.activity,a=Rr.getEmptyActivity();a.txt=s.txt,a.byMember._id=s.user._id,a.byMember.username=s.user.username,a.byMember.fullname=s.user.fullname,a.byMember.imgUrl=s.user.imgUrl,a.task.id=s.task.id,a.task.title=s.task.title,s.res&&(a.imgUrl=s.res.url),t.currBoard.activities.unshift(a)},addAttachment:function(t,e){var s=e.attachment,a=Rr.getEmptyAttachment();a.txt=s.txt,a.imgUrl=s.res.url,a.task.id=s.task.id,a.task.title=s.task.title,t.currBoard.attachments.push(a)},createLabel:function(t,e){var s=e.label;if(s.id){var a=t.currBoard.labels.findIndex((function(t){return t.id===s.id}));t.currBoard.labels[a]=s}else{var r=Rr.getEmptyLabel();r.title=s.title,r.color=s.selectedColor,t.currBoard.labels.push(r),t.currTask&&t.currTask.labelIds.push(r.id)}},deleteLabel:function(t,e){var s=t.currBoard.labels.findIndex((function(t){return t.id===e.id}));if(t.currBoard.labels.splice(s,1),t.currTask){var a=t.currTask.labelIds.findIndex((function(t){return t.id===e.id}));t.currTask.labelIds.splice(a,1)}},addTask:function(t,e){var s=e.taskRaw,a=Rr.getEmptyTask();a.title=s.task,a.byMember=s.user,t.currBoard.groups[s.idx].tasks.push(a)},updateStore:function(t,e){var s=e.taskId,a=t.currBoard.groups.findIndex((function(t){return t.tasks.some((function(t){return t.id===s}))}));t.currGroup=t.currBoard.groups[a],t.currBoard.groups[a].tasks&&(t.currTask=t.currBoard.groups[a].tasks.find((function(t){return t.id===s})))},updateGroup:function(t,e){var s=e.group,a=t.currBoard.groups.findIndex((function(t){return t.id===s.id}));t.currBoard.groups.splice(a,1,s),t.currGroup=t.currBoard.groups[a]},updateTask:function(t,e){var s=e.task;if(s){var a=t.currBoard.groups.findIndex((function(t){return t.tasks.find((function(t){return s.id===t.id}))})),r=t.currBoard.groups[a].tasks.findIndex((function(t){return t.id===s.id}));t.currBoard.groups[a].tasks.splice(r,1,s),t.currTask=s}else t.currTask=null},removeTask:function(t,e){var s=e.task,a=t.currBoard.groups.findIndex((function(t){return t.tasks.find((function(t){return s.id===t.id}))})),r=t.currBoard.groups[a].tasks.findIndex((function(t){return t.id===s.id}));t.currBoard.groups[a].tasks.splice(r,1),t.currTask=null},removeGroup:function(t,e){var s=e.groupId,a=t.currBoard.groups.findIndex((function(t){return t.id===s}));t.currBoard.groups.splice(a,1)},addBoard:function(t,e){var s=e.board;t.boards.push(s)},applyDrag:function(t,e){var s=e.content;if(null!==s.dropResult.removedIndex||null!==s.dropResult.addedIndex){var a=s.dropResult,r=a.removedIndex,n=a.addedIndex,i=a.payload,o=s.groupIdx,c=Object(kt["a"])(t.currBoard.groups[o].tasks),l=i;null!==r&&(l=c.splice(r,1)[0]),null!==n&&c.splice(n,0,l),t.currBoard.groups[o].tasks=Object(kt["a"])(c)}},applyDragGroup:function(t,e){var s=e.dropResult;if(null!==s.removedIndex||null!==s.addedIndex){var a=s.removedIndex,r=s.addedIndex,n=s.payload,i=Object(kt["a"])(t.currBoard.groups),o=n;null!==a&&(o=i.splice(a,1)[0]),null!==r&&i.splice(r,0,o),t.currBoard.groups=Object(kt["a"])(i)}}},actions:{loadBoards:function(t){return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,e.prev=1,s({type:"setLoadingOn"}),e.next=5,Rr.query();case 5:a=e.sent,s({type:"setBoards",boards:a}),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),console.log("Couldnt load boards",e.t0);case 12:return e.prev=12,s({type:"setLoadingOff"}),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})))()},loadAndWatchBoard:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,r=e.boardId,s.prev=2,a({type:"setCurrBoard",board:null}),a({type:"setLoadingOn"}),s.next=7,Rr.getBoardById(r);case 7:n=s.sent,a({type:"setCurrBoard",board:n}),$a.emit(_a,r),$a.off(xa),$a.on(xa,(function(t){a({type:"updateBoard",board:t})})),s.next=17;break;case 14:s.prev=14,s.t0=s["catch"](2),console.log("Couldnt load board",s.t0);case 17:return s.prev=17,a({type:"setLoadingOff"}),s.finish(17);case 20:case"end":return s.stop()}}),s,null,[[2,14,17,20]])})))()},addBoard:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,s.prev=1,s.next=4,Rr.add(e);case 4:r=s.sent,a({type:"addBoard",newBoard:r}),s.next=11;break;case 8:s.prev=8,s.t0=s["catch"](1),console.log("Couldn't add board",s.t0);case 11:case"end":return s.stop()}}),s,null,[[1,8]])})))()},updateBoard:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,n,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.state,r=t.commit,n=e.board,i=void 0===n?null:n,s.prev=2,i||(i=a.currBoard),s.next=6,Rr.update(i);case 6:r({type:"updateBoard",board:i}),$a.emit(Ta,i),s.next=13;break;case 10:s.prev=10,s.t0=s["catch"](2),console.log("Couldnt update Board",s.t0);case 13:case"end":return s.stop()}}),s,null,[[2,10]])})))()},removeBoard:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,r=e.boardId,s.prev=2,s.next=5,Rr.remove(r);case 5:a({type:"removeBoard",boardId:r}),s.next=11;break;case 8:s.prev=8,s.t0=s["catch"](2),console.log("Couldn't remove board",s.t0);case 11:case"end":return s.stop()}}),s,null,[[2,8]])})))()},removeGroup:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,n,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.dispatch,r=t.commit,n=e.groupId,s.prev=2,r({type:"removeGroup",groupId:n}),i=null,s.next=7,a({type:"updateBoard"},i);case 7:s.next=12;break;case 9:s.prev=9,s.t0=s["catch"](2),console.log("Coulnd't remove group",s.t0);case 12:case"end":return s.stop()}}),s,null,[[2,9]])})))()},updateGroup:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.dispatch,r=t.commit,n=e.group,s.prev=2,r({type:"updateGroup",group:n}),s.next=6,a({type:"updateBoard"});case 6:s.next=10;break;case 8:s.prev=8,s.t0=s["catch"](2);case 10:case"end":return s.stop()}}),s,null,[[2,8]])})))()},addGroup:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.dispatch,r=t.commit,n=e.group,s.prev=2,r({type:"addGroup",group:n}),s.next=6,a({type:"updateBoard"});case 6:s.next=11;break;case 8:s.prev=8,s.t0=s["catch"](2),console.log("couldnt update in addgroup",s.t0);case 11:case"end":return s.stop()}}),s,null,[[2,8]])})))()},addTask:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.dispatch,r=t.commit,n=e.taskRaw,s.prev=2,s.next=5,r({type:"addTask",taskRaw:n});case 5:return s.next=7,a({type:"updateBoard"});case 7:s.next=12;break;case 9:s.prev=9,s.t0=s["catch"](2),console.log("Couldnt add a task",s.t0);case 12:case"end":return s.stop()}}),s,null,[[2,9]])})))()},removeTask:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.dispatch,r=t.commit,n=e.task,s.prev=2,r({type:"removeTask",task:n}),s.next=6,a({type:"updateBoard"});case 6:s.next=11;break;case 8:s.prev=8,s.t0=s["catch"](2),console.log("Error on board store REMOVETASK",s.t0);case 11:case"end":return s.stop()}}),s,null,[[2,8]])})))()},updateStore:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,n,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,r=e.boardId,n=e.taskId,s.prev=2,s.next=5,Rr.getBoardById(r);case 5:i=s.sent,a({type:"setCurrBoard",board:i}),a({type:"updateStore",taskId:n}),s.next=13;break;case 10:s.prev=10,s.t0=s["catch"](2),console.log("Error on board store GETTASKDETAILS",s.t0);case 13:case"end":return s.stop()}}),s,null,[[2,10]])})))()},updateTask:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,r=t.dispatch,n=e.task,s.prev=2,a({type:"updateTask",task:n}),s.next=6,r({type:"updateBoard"});case 6:s.next=11;break;case 8:s.prev=8,s.t0=s["catch"](2),console.log("Error on board store UPDATETASK",s.t0);case 11:case"end":return s.stop()}}),s,null,[[2,8]])})))()},createLabel:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.dispatch,r=t.commit,n=e.label,s.prev=2,r({type:"createLabel",label:n}),s.next=6,a({type:"updateBoard"});case 6:s.next=11;break;case 8:s.prev=8,s.t0=s["catch"](2),console.log("Error on board store CREATELABEL");case 11:case"end":return s.stop()}}),s,null,[[2,8]])})))()},deleteLabel:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.dispatch,r=t.commit,n=e.label,s.prev=2,r({type:"deleteLabel",label:n}),s.next=6,a({type:"updateBoard"});case 6:s.next=11;break;case 8:s.prev=8,s.t0=s["catch"](2),console.log("Error on board soter DELETELABEL");case 11:case"end":return s.stop()}}),s,null,[[2,8]])})))()},addActivity:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:a=t.dispatch,r=t.commit,n=e.activity;try{r({type:"addActivity",activity:n}),a({type:"updateBoard"})}catch(i){console.log("Error on board store ADDACTIVITY",i)}case 3:case"end":return s.stop()}}),s)})))()},addAttachment:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.dispatch,r=t.commit,n=e.attachment,s.prev=2,r({type:"addAttachment",attachment:n}),s.next=6,a({type:"updateBoard"});case 6:s.next=11;break;case 8:s.prev=8,s.t0=s["catch"](2),console.log("boardStore: Error on-AddAttachment",s.t0);case 11:case"end":return s.stop()}}),s,null,[[2,8]])})))()},createBoard:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,n,i,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,r=e.board,n=e.user,s.prev=2,i=Rr.getEmptyBoard(),i.createdBy=n,i.title=r.title,r.imgUrl?i.style.backgroundUrl=r.imgUrl:r.background?i.style.backgroundColor=r.background:i.style.backgroundColor="rgb(0, 121, 191)",s.next=9,Rr.add(i);case 9:o=s.sent,a({type:"addBoard",board:o,user:n}),s.next=16;break;case 13:s.prev=13,s.t0=s["catch"](2),console.log("Error on board store CREATEBOARD");case 16:case"end":return s.stop()}}),s,null,[[2,13]])})))()},applyDrag:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.dispatch,r=t.commit,n=e.content,r({type:"applyDrag",content:n}),s.next=5,a({type:"updateBoard"});case 5:case"end":return s.stop()}}),s)})))()},applyDragGroup:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.dispatch,r=t.commit,n=e.dropResult,r({type:"applyDragGroup",dropResult:n}),s.next=5,a({type:"updateBoard"});case 5:case"end":return s.stop()}}),s)})))()}}},sn="loggedinUser",an={login:dn,logout:gn,signup:hn,getLoggedinUser:kn,getUsers:rn,getEmptyUser:bn,getById:on,update:ln};function rn(){return nn.apply(this,arguments)}function nn(){return nn=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.abrupt("return",Tr.get("user"));case 4:t.prev=4,t.t0=t["catch"](0),console.log("Had error on userService: GETUSERS",t.t0);case 7:case"end":return t.stop()}}),t,null,[[0,4]])}))),nn.apply(this,arguments)}function on(t){return cn.apply(this,arguments)}function cn(){return cn=Object(i["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Tr.get("user/".concat(e));case 3:return s=t.sent,t.abrupt("return",s);case 7:t.prev=7,t.t0=t["catch"](0),console.log("Had error on userService: GETUSERBYID",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),cn.apply(this,arguments)}function ln(t){return un.apply(this,arguments)}function un(){return un=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Tr.put("user/".concat(e._id),e);case 3:return e=t.sent,kn()._id===e._id&&fn(e),t.abrupt("return",e);case 8:t.prev=8,t.t0=t["catch"](0),console.log("Had error on userService: UPDATE",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),un.apply(this,arguments)}function dn(t){return pn.apply(this,arguments)}function pn(){return pn=Object(i["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Tr.post("auth/login",e);case 3:if(s=t.sent,console.log(s),!s){t.next=7;break}return t.abrupt("return",fn(s));case 7:t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log("Had error on userService: LOGIN",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),pn.apply(this,arguments)}function hn(t){return mn.apply(this,arguments)}function mn(){return mn=Object(i["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Tr.post("auth/signup",e);case 3:return s=t.sent,console.log(s),t.abrupt("return",fn(s));case 8:t.prev=8,t.t0=t["catch"](0),console.log("Had error on userService: SIGNUP",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),mn.apply(this,arguments)}function gn(){return vn.apply(this,arguments)}function vn(){return vn=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,sessionStorage.removeItem(sn),t.next=4,Tr.post("auth/logout");case 4:return t.abrupt("return",t.sent);case 7:t.prev=7,t.t0=t["catch"](0),console.log("Had error on userService: LOGOUT",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),vn.apply(this,arguments)}function fn(t){return sessionStorage.setItem(sn,JSON.stringify(t)),t}function kn(){return JSON.parse(sessionStorage.getItem(sn)||"null")}function bn(){var t={_id:"",username:"",fullname:"",imgUrl:"",recentBoards:[],starred:[],mentions:[]};return t}window.userService=an;var Cn={strict:!0,state:{users:{},loggedInUser:{},boardMembers:{}},getters:{currUser:function(t){var e=t.loggedInUser;return e},users:function(t){var e=t.users;return e}},mutations:{setLoggedinUser:function(t,e){var s=e.user,a=void 0===s?null:s;a||(a=an.getLoggedinUser()),t.loggedInUser=a},setUsers:function(t,e){var s=e.users;t.users=s}},actions:{loadUsers:function(t){return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,e.prev=1,e.next=4,an.getUsers();case 4:a=e.sent,s({type:"setUsers",users:a}),e.next=12;break;case 8:throw e.prev=8,e.t0=e["catch"](1),console.log("userStore: Error in loadUsers",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()},addRecent:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,n,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.dispatch,t.commit,r=e.boardId,n=e.user,s.prev=2,i=n.recentBoards.findIndex((function(t){return t===r})),-1===i&&n.recentBoards.push(r),s.next=7,a({type:"updateUser",user:n});case 7:s.next=12;break;case 9:s.prev=9,s.t0=s["catch"](2),console.log("userStore: Error on adding recent boards");case 12:case"end":return s.stop()}}),s,null,[[2,9]])})))()},updateUser:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,r=e.user,s.prev=2,s.next=5,an.update(r);case 5:a({type:"setLoggedinUser",user:r}),s.next=11;break;case 8:s.prev=8,s.t0=s["catch"](2),console.log("userStore: Error on updating user");case 11:case"end":return s.stop()}}),s,null,[[2,8]])})))()},getUserById:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,r=e.userId,s.prev=2,s.next=5,an.getById(r);case 5:n=s.sent,a({type:"setLoggedinUser",user:n}),s.next=12;break;case 9:s.prev=9,s.t0=s["catch"](2),console.log("userStore: Error on geting User by Id");case 12:case"end":return s.stop()}}),s,null,[[2,9]])})))()},signup:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,r=e.userCred,s.prev=2,s.next=5,an.signup(r);case 5:n=s.sent,a({type:"setLoggedinUser",user:n}),s.next=13;break;case 9:throw s.prev=9,s.t0=s["catch"](2),console.log("userStore: Error in signup",s.t0),s.t0;case 13:case"end":return s.stop()}}),s,null,[[2,9]])})))()},login:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function s(){var a,r,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return a=t.commit,r=e.userCred,s.prev=2,s.next=5,an.login(r);case 5:n=s.sent,a({type:"setLoggedinUser",user:n}),s.next=13;break;case 9:throw s.prev=9,s.t0=s["catch"](2),console.log("userStore: Error in login",s.t0),s.t0;case 13:case"end":return s.stop()}}),s,null,[[2,9]])})))()},logout:function(t){return Object(i["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.commit,e.prev=1,e.next=4,an.logout();case 4:s({type:"setLoggedinUser",user:null}),e.next=11;break;case 7:throw e.prev=7,e.t0=e["catch"](1),console.log("userStore: Error in logout",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))()}}};a["a"].use(br["a"]);var yn=new br["a"].Store({strict:!0,state:{},getters:{},mutations:{},actions:{},modules:{boardStore:en,userStore:Cn}});s("7046");a["a"].config.productionTip=!1,new a["a"]({router:kr,store:yn,render:function(t){return t(ht)}}).$mount("#app")},"6a68":function(t,e,s){t.exports=s.p+"img/background-6.b65f7a48.jpg"},"6c77":function(t,e,s){t.exports=s.p+"img/background-5.7c6a882c.jpg"},7046:function(t,e,s){},"910b":function(t,e,s){t.exports=s.p+"img/background-3.2c886bb3.jpg"},b1be:function(t,e,s){t.exports=s.p+"img/background-photos.48948499.jpg"},bb6e:function(t,e,s){var a={"./background-1.jpg":"36a8","./background-2.jpg":"31a2","./background-3.jpg":"910b","./background-4.jpg":"34a1","./background-5.jpg":"6c77","./background-6.jpg":"6a68","./background-colors.jpg":"505f","./background-photos.jpg":"b1be"};function r(t){var e=n(t);return s(e)}function n(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=n,t.exports=r,r.id="bb6e"}});
//# sourceMappingURL=app.eb179695.js.map